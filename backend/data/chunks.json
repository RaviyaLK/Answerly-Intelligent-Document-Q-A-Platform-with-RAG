["INFORMATICS INSTITUTE OF TECHNOLOGY In Collaboration with UNIVERSITY OF WESTMINSTER, UK Osteo-Vision Enhancing Knee Osteoporosis Diagnosis through X-ray Imaging and Explainable AI Techniques A Dissertation by Mr. Ravindu Yasintha Wijesekara Supervised by Mr. Nuvin Godakanda Arachchi April 2025 Submitted in partial fulfilment of the requirements for the BEng (Hons) Software Engineering degree at the University of Westminster, UK Osteo-Vision Thesis ii Ravindu Y. Wijesekara ABSTRACT Osteoporosis is a prevalent skeletal disorder characterized by increased bone fragility and susceptibility to fracture, with an especially increasing prevalence in postmenopausal women and among the elderly population. The interpretation of osteoporosis using X-ray imaging is performed manually, hence, it may include subjective variations in diagnostic results. The proposed project will address the shortcomings mentioned above by developing a novel AI-driven system for knee osteoporosis diagnosis that will incorporate XAI with X-ray imaging to provide better accuracy, transparency, and clinical trust. Using CNNs for the analysis of X-ray images can help in the early detection of knee osteoporosis. Explainable AI techniques like Grad-CAM and LIME are used to present the predictions of the AI model in an interpretable manner to the clinicians. The prototype system predicts the presence of knee osteoporosis through patterns in bone structure and density, providing visual explanations for the predictions to help clinicians understand the decisions made by the model. The prototype showed excellent initial performance with 97.15% accuracy with the VGG-19 binary classification model in predicting knee osteoporosis from knee X-ray images. The EfficientNet binary classification model achieved 87% accuracy, and the VGG19 multiclass model achieved 83% accuracy. Integration with Grad-CAM and LIME made the model more transparent, providing clinically valid visualizations to help clinicians validate predictions. This system may substantially improve the accuracy and reliability of knee osteoporosis diagnosis while addressing the important issue of transparency in AI-based healthcare applications. Subject Descriptors: Computing methodologies \u2192 Machine learning \u2192 Machine learning approaches \u2192 Neural networks Applied computing \u2192 Life and medical sciences \u2192 Consumer health Computing methodologies \u2192 Artificial intelligence \u2192 Computer vision \u2192 Computer vision problems \u2192 Object detection Keywords: Osteoporosis, Knee Osteoporosis, Osteoporosis Diagnosis, Explainable AI, X-ray Imaging, Deep Learning, Transfer Learning, Convolutional Neural Networks Osteo-Vision Thesis iii Ravindu Y. Wijesekara DECLARATION I hereby certify that this dissertation and all its associated artifacts are a result of my own research efforts and that none of them have ever been nor in the process of being submitted to research programs or other academic qualification programs at any other universities or educational institutions. All details and information were obtained from credible and dependable sources and have been properly referenced. Students\u2019 Full Name: Ravindu Yasintha Wijesekara Registration Number: w1868299 | 20210810 Signature: Date: 14th April 2025 Osteo-Vision Thesis iv Ravindu Y. Wijesekara ACKNOWLEDGEMENT Bringing this research idea to reality has been more than just an academic milestone. It was not an easy journey, it\u2019s been a tough path of discovery, frustration, small victories and steady learning. What began as an idea on a paper evolved into a functional system with the", "Wijesekara ACKNOWLEDGEMENT Bringing this research idea to reality has been more than just an academic milestone. It was not an easy journey, it\u2019s been a tough path of discovery, frustration, small victories and steady learning. What began as an idea on a paper evolved into a functional system with the help and support received by many parties. Firstly, I would like to express my heartfelt gratitude to my mentor, Mr. Nuvin Godakanda Arachchi for his invaluable guidance, insightful feedback, and support throughout the project. His mentorship played a crucial role in overcoming challenges met through this research. I also extend my sincere thanks to the module leader, Mr. Guhanathan Poravi, for his continuous guidance throughout the final year. In addition, I wish to acknowledge all the lecturers over the past four years, this work is an ultimate result of the foundational knowledge gained through their teachings. Special thanks to the medical and technical experts who contributed their time and effort to provide guidance and evaluate the system. Their involvement contributed to the success of my research. Last but not least, I would like to thank my family and friends who believed in me and consistently supported me during this challenging journey. Osteo-Vision Thesis v Ravindu Y. Wijesekara TABLE OF CONTENTS CHAPTER 1 : INTRODUCTION .............................................................................................. 1 1.1 Prolegomena ......................................................................................................................... 1 1.2 Problem Domain ................................................................................................................... 1 1.2.1 Osteoporosis: A Silent Disease ...................................................................................... 1 1.2.2 Limitations of Current Osteoporosis Diagnostic Methods ............................................ 2 1.2.3 Challenges in Adopting AI-Based Diagnosis in Clinical Practice ................................. 2 1.3 Problem Definition................................................................................................................ 2 1.3.1 Problem Statement ......................................................................................................... 3 1.4 Research Motivation ............................................................................................................. 3 1.5 Research Gap ........................................................................................................................ 3 1.6 Contribution to Body of Knowledge..................................................................................... 4 1.6.1 Problem Domain Contribution ....................................................................................... 4 1.6.2 Research Domain Contribution...................................................................................... 5 1.7 Research Aim ........................................................................................................................ 5 1.8 Research Objectives .............................................................................................................. 5 1.9 Research Challenges ............................................................................................................. 8 1.10 Research Questions ............................................................................................................. 9 1.11 Chapter Summary ............................................................................................................... 9 CHAPTER 2 : LITERATURE REVIEW ................................................................................. 10 2.1 Chapter Overview ............................................................................................................... 10 2.2 Concept Map ....................................................................................................................... 10 2.3 Problem Domain ................................................................................................................. 10 2.3.1 Introduction to Knee Osteoporosis .............................................................................. 10 Osteo-Vision Thesis vi Ravindu Y. Wijesekara 2.3.2 Impact of Knee Osteoporosis ........................................................................................11 2.3.3 Challenges in Diagnosing Knee Osteoporosis ............................................................. 12 2.3.4 Medical Biomarkers for Osteoporosis Diagnosis ........................................................ 12 2.3.5 Importance of AI Diagnostic Tools .............................................................................. 13 2.3.6 Relevance of Computer Vision to Osteoporosis Detection .......................................... 13 2.3.7 X-ray Imaging in Osteoporosis Diagnosis ................................................................... 14 2.3.8 Interpretability and Trust Issues in AI-based Diagnosis .............................................. 15 2.3.9 Introduction to Explainable AI (XAI) .......................................................................... 15 2.3.10 XAI Applications in the Medical Domain ................................................................. 16 2.4 Existing Work ..................................................................................................................... 16 2.4.1 Current Research on Osteoporosis Diagnosis Using AI .............................................. 16 2.4.2 Knee Osteoporosis Diagnosis Using X-ray Imaging ................................................... 17 2.4.3 Challenges and limitations in current AI-based Knee Osteoporosis Diagnosis ........... 18 2.5 Technological Review ......................................................................................................... 19 2.5.1 Proposed Architecture for the Osteoporosis Diagnosis Model .................................... 19 2.5.2 Dataset and Preprocessing Techniques ........................................................................ 20 2.5.3 Feature Extraction ........................................................................................................ 21 2.5.4 Mathematical Background and Formulations for Deep Learning Models .................. 22 2.5.5 Algorithm", "and limitations in current AI-based Knee Osteoporosis Diagnosis ........... 18 2.5 Technological Review ......................................................................................................... 19 2.5.1 Proposed Architecture for the Osteoporosis Diagnosis Model .................................... 19 2.5.2 Dataset and Preprocessing Techniques ........................................................................ 20 2.5.3 Feature Extraction ........................................................................................................ 21 2.5.4 Mathematical Background and Formulations for Deep Learning Models .................. 22 2.5.5 Algorithm Selection ..................................................................................................... 23 2.5.6 Transfer Learning ......................................................................................................... 24 2.5.7 Classification................................................................................................................ 26 2.5.8 Hyperparameter Tuning ............................................................................................... 26 2.5.9 Explainable AI (XAI) ................................................................................................... 27 2.6 Benchmarking and Evaluation ............................................................................................ 28 2.7 Chapter Summary ............................................................................................................... 29 Osteo-Vision Thesis vii Ravindu Y. Wijesekara CHAPTER 3 : METHODOLOGY............................................................................................ 30 3.1 Chapter Overview ............................................................................................................... 30 3.2 Research Methodology ....................................................................................................... 30 3.3 Development Methodology ................................................................................................ 31 3.3.1 Requirement Elicitation Methodology ......................................................................... 31 3.3.2 Design Methodology .................................................................................................... 31 3.3.3 Programming Paradigm ............................................................................................... 32 3.3.4 Testing Methodology ................................................................................................... 32 3.3.5 Solution Methodology ................................................................................................. 32 3.3.5.7 Feedback Loop .......................................................................................................... 33 3.4 Project Management Methodology ..................................................................................... 33 3.4.1 Scope ............................................................................................................................ 33 3.4.1.1 In-Scope .................................................................................................................... 33 3.4.1.2 Out-Scope ................................................................................................................. 33 3.4.2 Schedule ....................................................................................................................... 34 3.4.3 Resource Requirements ............................................................................................... 34 3.4.4 Risk and Mitigation...................................................................................................... 36 3.5 Chapter Summary ............................................................................................................... 37 CHAPTER 4 : SOFTWARE REQUIREMENT SPECIFICATION ...................................... 38 4.1 Chapter Overview ............................................................................................................... 38 4.2 Rich Picture ........................................................................................................................ 38 4.3 Stakeholder Analysis ........................................................................................................... 39 4.3.1 Stakeholder Onion Model ............................................................................................ 39 4.3.2 Stakeholder Viewpoints ............................................................................................... 40 4.4 Selection of Requirement Elicitation Methodologies ......................................................... 41 Osteo-Vision Thesis viii Ravindu Y. Wijesekara 4.5 Discussion of Findings ........................................................................................................ 41 4.5.1 Literature Review Findings.......................................................................................... 41 4.5.2 Findings from Functional Beneficiary Interviews ....................................................... 42 4.5.3 Findings from Consultant Interviews........................................................................... 44 4.6 Summary of Findings .......................................................................................................... 45 4.7 Context Diagram ................................................................................................................. 46 4.8 Use Case Diagram............................................................................................................... 47 4.9 Use Case Descriptions ........................................................................................................ 47 4.10 Requirements .................................................................................................................... 49 4.10.1 Functional Requirements ........................................................................................... 49 4.10.2 Non-Functional Requirements ................................................................................... 50 4.11 Chapter Summary ............................................................................................................. 51 CHAPTER 5 : SOCIAL, LEGAL, ETHICAL, AND PROFESSIONAL ISSUES .............. 52 5.1 Chapter Overview ............................................................................................................... 52 5.2 SLEP Issues & Mitigations ................................................................................................. 52 5.3 Chapter Summary ............................................................................................................... 52 CHAPTER 6 : DESIGN ............................................................................................................. 53 6.1 Chapter Overview ............................................................................................................... 53 6.2 Design Goals ....................................................................................................................... 53 6.3 System Architecture Design ................................................................................................ 54 6.3.1 System Architecture Diagram ...................................................................................... 54 6.3.2 Layers of Architecture.................................................................................................. 55 6.3.3 Data Tier....................................................................................................................... 56 6.4 Detailed Design ................................................................................................................... 57 6.4.1 Choice of Design Paradigm ......................................................................................... 57 Osteo-Vision Thesis ix Ravindu Y. Wijesekara 6.4.2 Data flow diagrams ...................................................................................................... 58 6.5 Algorithm Design ................................................................................................................ 59 6.5.1 VGG19 Architecture Design ........................................................................................ 59 6.5.2 EfficientNetB4 Architecture Design ............................................................................ 59 6.5.3 Ensemble Model Design .............................................................................................. 60 6.6 UI Design ............................................................................................................................ 60 6.7 System Process Workflow .................................................................................................. 61 6.8 Chapter Summary ............................................................................................................... 62 CHAPTER 7 : IMPLEMENTATION ....................................................................................... 63 7.1 Chapter Overview ............................................................................................................... 63 7.2 Technology Selection .......................................................................................................... 63 7.2.1 Technology Stack ......................................................................................................... 63 7.2.2 Selection of data ........................................................................................................... 64 7.2.3 Selection of programming languages ........................................................................... 64 7.2.4 Selection of Development Frameworks ....................................................................... 65 7.2.5 Libraries ....................................................................................................................... 65 7.2.6 Selection of User Interface (UI) Framework ............................................................... 66 7.2.7 Selection of Integrated Development Environment (IDE) .......................................... 66 7.2.8 Summary of Chosen Tools & Technologies ................................................................. 66 7.3 Core Functionalities Implementation .................................................................................. 67 7.3.1 Implementation of", "languages ........................................................................... 64 7.2.4 Selection of Development Frameworks ....................................................................... 65 7.2.5 Libraries ....................................................................................................................... 65 7.2.6 Selection of User Interface (UI) Framework ............................................................... 66 7.2.7 Selection of Integrated Development Environment (IDE) .......................................... 66 7.2.8 Summary of Chosen Tools & Technologies ................................................................. 66 7.3 Core Functionalities Implementation .................................................................................. 67 7.3.1 Implementation of Deep Learning Model for Binary Classification ........................... 67 7.3.2 Implementation of Ensemble Model for Binary Classification ................................... 68 7.3.3 Implementation of Deep Learning Model for Multiclass Classification ..................... 69 7.3.4 Implementation of Grad-CAM Module ....................................................................... 69 7.4 User Interface Implementation ........................................................................................... 70 Osteo-Vision Thesis x Ravindu Y. Wijesekara 7.5 Chapter Summary ............................................................................................................... 70 CHAPTER 8 : TESTING ........................................................................................................... 71 8.1 Chapter Overview ............................................................................................................... 71 8.2 Objectives and Goals of Testing ......................................................................................... 71 8.3 Testing Criteria .................................................................................................................... 71 8.4 Model Testing ..................................................................................................................... 72 8.4.1 Confusion matrix ......................................................................................................... 72 8.4.2 Accuracy ...................................................................................................................... 72 8.4.3 Precision ....................................................................................................................... 73 8.4.4 Recall ........................................................................................................................... 73 8.4.5 F1 Score ....................................................................................................................... 74 8.5 Benchmarking ..................................................................................................................... 75 8.6 Functional Testing ............................................................................................................... 76 8.7 Module and Integration Testing .......................................................................................... 78 8.8 Non-Functional Testing ....................................................................................................... 78 8.9 Limitations of Testing Process ............................................................................................ 78 8.10 Chapter Summary ............................................................................................................. 79 CHAPTER 9 : EVALUATION .................................................................................................. 80 9.1 Chapter Overview ............................................................................................................... 80 9.2 Evaluation Methodology and Approach ............................................................................. 80 9.3 Evaluation criteria ............................................................................................................... 80 9.4 Self-evaluation .................................................................................................................... 81 9.5 Selection of evaluators ........................................................................................................ 82 9.6 Evaluation Results .............................................................................................................. 83 9.7 Limitations of Evaluation ................................................................................................... 84 Osteo-Vision Thesis xi Ravindu Y. Wijesekara 9.8 Evaluation of Functional Requirements.............................................................................. 85 9.9 Evaluation of Non-Functional Requirements ..................................................................... 86 9.10 Chapter Summary ............................................................................................................. 87 CHAPTER 10 : CONCLUSION................................................................................................ 88 10.1 Chapter Overview ............................................................................................................. 88 10.2 Achievements of Research Aims & Objectives ................................................................ 88 10.2.1 Achievement of the Aim ............................................................................................ 88 10.2.2 Achievement of the Objectives .................................................................................. 88 10.3 Utilization of Knowledge from the Course ....................................................................... 89 10.4 Use of Existing Skills........................................................................................................ 90 10.5 Use of New Skills ............................................................................................................. 90 10.6 Achievement of Learning Outcomes ................................................................................ 90 10.7 Problems and Challenges Faced ....................................................................................... 91 10.8 Deviations ......................................................................................................................... 92 10.9 Limitations of the Research .............................................................................................. 92 10.10 Future Enhancements ...................................................................................................... 93 10.11 Achievement of the Contribution to the Body of Knowledge ........................................ 94 10.11.1 Research Domain Contributions .............................................................................. 94 10.11.2 Problem Domain Contributions ............................................................................... 94 10.12 Concluding Remarks ....................................................................................................... 94 REFERENCES ............................................................................................................................... I APPENDIX A: LITERATURE REVIEW .............................................................................. VII A.1 Concept Map ..................................................................................................................... VII APPENDIX B \u2013 METHODOLOGY ...................................................................................... VIII B.1 Gantt Chart ...................................................................................................................... VIII Osteo-Vision Thesis xii Ravindu Y. Wijesekara APPENDIX C: SOFTWARE REQUIREMENTS SPECIFICATIONS ................................. IX C.1 QUESTIONNAIRES TO DOMAIN EXPERTS ................................................................ IX C.2 QUESTIONNAIRES TO DOMAIN EXPERTS ................................................................. X C.3 USE CASE DESCRIPTIONS ........................................................................................... XII APPENDIX D: DESIGN ...................................................................................................... XVIII D.1 LOW FIDELITY WIREFRAMES ................................................................................ XVIII APPENDIX E: IMPLEMENTATION ..................................................................................... XX E.1 Implementation Code Snippets.......................................................................................... XX E.2 User Interfaces of the System ....................................................................................... XXIV APPENDIX F \u2013 TESTING ................................................................................................... XXIX F.1 Test Results ................................................................................................................... XXIX E.2 Non-Functional Testing ............................................................................................... XXXII Osteo-Vision Thesis xiii Ravindu Y. Wijesekara LIST OF TABLES Table 1.1 : Research Objectives ...................................................................................................... 5 Table 2.1: Model Performance Summary of Existing Work ......................................................... 29 Table 3.1:", "Interfaces of the System ....................................................................................... XXIV APPENDIX F \u2013 TESTING ................................................................................................... XXIX F.1 Test Results ................................................................................................................... XXIX E.2 Non-Functional Testing ............................................................................................... XXXII Osteo-Vision Thesis xiii Ravindu Y. Wijesekara LIST OF TABLES Table 1.1 : Research Objectives ...................................................................................................... 5 Table 2.1: Model Performance Summary of Existing Work ......................................................... 29 Table 3.1: Research Methodologies .............................................................................................. 30 Table 3.2: Project Deliverables and Dates .................................................................................... 34 Table 3.3: Risks and Mitigations .................................................................................................. 36 Table 4.1: Stakeholder Viewpoints ............................................................................................... 40 Table 4.2: Requirement Elicitation Methodology ......................................................................... 41 Table 4.3: Literature Review Findings .......................................................................................... 41 Table 4.4: Functional Beneficiary Interview Findings ................................................................. 43 Table 4.5: Consultant Interview Findings ..................................................................................... 44 Table 4.6: Summary of Findings ................................................................................................... 45 Table 4.7: Use Case Description UC: 01 ...................................................................................... 47 Table 4.8: Use Case Description UC: 05 ...................................................................................... 48 Table 4.9: Functional Requirements ............................................................................................. 49 Table 4.10: Non-Functional Requirements ................................................................................... 50 Table 5.1: SLEP issues and mitigations ........................................................................................ 52 Table 6.1: Design Goals ................................................................................................................ 53 Table 7.1 : Justification of the Selection of Programming Languages ......................................... 64 Table 7.2: Justification for the Selection of Development Frameworks ....................................... 65 Table 7.3: Justification for the Selection of Libraries ................................................................... 65 Table 7.4: Justification for the Selection of UI framework .......................................................... 66 Table 7.5: Justification for the Selection of IDE ........................................................................... 66 Table 7.6: Summary of Chosen Tools & Technologies ................................................................. 66 Table 8.1: Accuracy comparison ................................................................................................... 73 Table 8.2: Precision Comparison .................................................................................................. 73 Table 8.3: Recall Value Comparison ............................................................................................. 74 Table 8.4: Benchmarking results ................................................................................................... 75 Table 8.5: Functional Testing ........................................................................................................ 76 Table 8.6: Module and Integration Testing ................................................................................... 78 Osteo-Vision Thesis xiv Ravindu Y. Wijesekara Table 9.1: Evaluation Criteria ....................................................................................................... 80 Table 9.2: Self Evaluation of the Author According to the Evaluation Criteria ........................... 81 Table 9.3 : Breakdown of Evaluator Categories ........................................................................... 82 Table 9.4: Thematic Analysis of Evaluator Feedbacks ................................................................. 83 Table 9.5: Evaluation of Functional Requirements ....................................................................... 85 Table 9.6: Evaluation of Non-Functional Requirements .............................................................. 86 Table 10.1: Achievement of the Objectives .................................................................................. 88 Table 10.2: Utilization of Knowledge from the Course ................................................................ 89 Table 10.3: Achievement of Learning Outcomes ......................................................................... 90 Table 10.4: Problems and Challenges Faced ................................................................................ 91 Table 0.1: Questionnaire to Domain Experts ................................................................................ IX Table 0.2: Questionnaire to Technical Experts .............................................................................. X Table 0.3: Use Case Description UC: 02 ..................................................................................... XII Table 0.4: Use Case Description UC:03 .................................................................................... XIII Table 0.5: Use Case Description UC:04 .................................................................................... XIII Table 0.6: Use Case Description UC:06 .................................................................................... XIV Table 0.7: Use Case Description UC: 07 ..................................................................................... XV Table 0.8: Use Case Description UC:08 .................................................................................... XVI Table 0.9: Use Case Description UC:09 ................................................................................... XVII Table 0.10: Non-Functional Testing ....................................................................................... XXXII Osteo-Vision Thesis xv Ravindu Y. Wijesekara LIST OF FIGURES Figure 2.1: Knee Osteoporosis Classification ............................................................................... 14 Figure 2.2: Proposed Architecture for Osteo-Vision..................................................................... 19 Figure 2.3: Evaluation Formulas................................................................................................... 28 Figure 4.1: Rich Picture Diagram ................................................................................................. 38 Figure 4.2: Onion Model............................................................................................................... 39 Figure 4.3: Context Diagram ........................................................................................................ 46 Figure 4.4: Use Case Diagram ...................................................................................................... 47 Figure 6.1: System Architecture Diagram .................................................................................... 54 Figure 6.2: Level One Data-Flow Diagram (self-composed) .......................................................", "Proposed Architecture for Osteo-Vision..................................................................... 19 Figure 2.3: Evaluation Formulas................................................................................................... 28 Figure 4.1: Rich Picture Diagram ................................................................................................. 38 Figure 4.2: Onion Model............................................................................................................... 39 Figure 4.3: Context Diagram ........................................................................................................ 46 Figure 4.4: Use Case Diagram ...................................................................................................... 47 Figure 6.1: System Architecture Diagram .................................................................................... 54 Figure 6.2: Level One Data-Flow Diagram (self-composed) ....................................................... 58 Figure 6.3: Level Two Data-Flow Diagram (self-composed) ....................................................... 58 Figure 6.4: System Process Workflow Diagram ........................................................................... 61 Figure 7.1: Technology Stack ....................................................................................................... 63 Figure 7.2: VGG-19 Binary Classification Training Module Code .............................................. 67 Figure 7.3: EfficientNetB4 Binary Classification Training Module Code ................................... 68 Figure 7.4: Implementation of the Ensemble Model (Soft Voting) .............................................. 68 Figure 7.5: VGG-19 Multiclass Classification Training Module Code ........................................ 69 Figure 7.6: Grad-CAM Module Code ........................................................................................... 69 Figure 7.7: Home Page with Prediction Results ........................................................................... 70 Figure 8.1: Confusion matrix for Binary Ensemble Model .......................................................... 72 Figure 0.1: Concept Map ............................................................................................................. VII Figure 0.2: Home Page Wireframe .......................................................................................... XVIII Figure 0.3: Report Page Wireframe ......................................................................................... XVIII Figure 0.4: History Page Wireframe .......................................................................................... XIX Figure 0.5: LIME Function .......................................................................................................... XX Figure 0.6: Grad-CAM Function ............................................................................................... XXI Figure 0.7: Data augmentation for Osteopenia class ................................................................ XXII Figure 0.8: Data generators for VGG19 Binary Model ............................................................ XXII Figure 0.9: Upload Endpoint with the Ensemble Function...................................................... XXIII Figure 0.10: Model Loader ..................................................................................................... XXIV Osteo-Vision Thesis xvi Ravindu Y. Wijesekara Figure 0.11: Home Screen Without Prediction Results .......................................................... XXIV Figure 0.12: Report Page .......................................................................................................... XXV Figure 0.13: Report Page with Results ..................................................................................... XXV Figure 0.14: History Page ....................................................................................................... XXVI Figure 0.15: Documentation Page........................................................................................... XXVI Figure: 0.16: Generated Report Prediction Page ................................................................... XXVII Figure 0.17: Generated Report XAI Visualizations Page ..................................................... XXVIII Figure 0.18: Confusion Matrix for EfficientNetB4 Binary Model ......................................... XXIX Figure 0.19: Confusion Matrix for VGG19 Binary Model ..................................................... XXIX Figure 0.20: Confusion Matrix for VGG19 Multiclass Model ............................................... XXIX Figure 0.21: Accuracy and Loss Graphs for VGG19 Binary Model ........................................ XXX Figure 0.22: Accuracy and Loss Graphs for EfficientNetB4 Binary Model ............................. XXX Figure 0.23: Accuracy and Loss Graphs for VGG19 Multiclass Model ................................... XXX Figure 0.24: AUC-ROC Curve for EfficientNetB4 Model ..................................................... XXXI Figure 0.25: AUC-ROC Curve for Binary VGG19 Model ..................................................... XXXI Figure 0.26: Lighthouse Results - Home Screen (self-composed) ........................................ XXXII Figure 0.27: Lighthouse Results - Report Screen (self-composed) ....................................... XXXII Figure 0.28: Lighthouse Results - History Screen (self-composed) ...................................... XXXII Figure 0.29: Code Factor Results.......................................................................................... XXXIII Osteo-Vision Thesis xvii Ravindu Y. Wijesekara LIST OF ABBREVIATIONS Acronym Description AI Artificial Intelligence ANN Artificial Neural Network AUC Area under the curve BMD Bone Mineral Density CNN Convolutional Neural Network CTX C-terminal cross-linked telopeptides DEXA Dual-Energy X-ray Absorptiometry Grad-CAM Gradient-weighted Class Activation LIME Local Interpretable Model-agnostic Explanations KNN k-Nearest Neighbor ML Machine learning NTX N-terminal cross-linked telopeptides OOADM Object-Oriented Analysis and Design Methodology OOP Object Oriented Programming RNN Recurrent Neural Network RGB Red, green, blue ROC Receiver-operating characteristic curve SHAP SHapley Additive exPlanations SVM Support Vector Machine VGG Visual Geometry Group XAI Explainable AI Osteo-Vision Chapter 1: Introduction 1 Ravindu Y. Wijesekara | W1868299 CHAPTER 1: INTRODUCTION", "OOADM Object-Oriented Analysis and Design Methodology OOP Object Oriented Programming RNN Recurrent Neural Network RGB Red, green, blue ROC Receiver-operating characteristic curve SHAP SHapley Additive exPlanations SVM Support Vector Machine VGG Visual Geometry Group XAI Explainable AI Osteo-Vision Chapter 1: Introduction 1 Ravindu Y. Wijesekara | W1868299 CHAPTER 1: INTRODUCTION 1.1 Prolegomena This dissertation is an attempt of the author to advance the diagnosis of knee osteoporosis using an XAI-based system, leveraging computer vision and deep learning techniques applied to X-ray image modalities. It provides a detailed overview of the methodology employed in developing this system, including the selection and optimization of pre-trained deep learning models, extensive preprocessing of medical imaging data, and the integration of interpretability mechanisms to ensure clinical relevance. The current literature is critically evaluated to contextualize this study, with the identification of key gaps in existing diagnostic models and the need for transparency in AI-driven medical applications. This first chapter provides an introduction to the problem domain, the research gap, the research objectives, and the research challenges and research motivation related to this study. 1.2 Problem Domain 1.2.1 Osteoporosis: A Silent Disease Osteoporosis is a disease characterized by reduced bone mass and the deterioration of bone tissue, which leads to increased bone fragility and a heightened risk of fractures (Yen et al., 2024). It is often referred to as a \"silent disease\" because it progresses without symptoms until a fracture occurs (Jaman Shawon et al., 2024). Osteoporosis disproportionately affects postmenopausal women and the elderly (Nakamoto, Taguchi and Kakimoto, 2022). It is estimated that one in three women and one in five men over the age of 50 will experience an osteoporotic fracture These fractures, which most commonly occur in the knee, hip, spine, and wrist, can lead to significant morbidity, including chronic pain, disability, and even premature death (Hovakimyan et al., 2023). Although bone mineral density (BMD) is a major fracture risk determinant, it is not the only crucial factor. Bone quality, referring to the integrity of the structure of the bone matrix, is an equally important factor, but it is assessed not only by BMD alone. This limitation justifies developing more complete diagnostic methodologies that assess bone mass and quality (Yen et al., 2024). Osteo-Vision Chapter 1: Introduction 2 Ravindu Y. Wijesekara | W1868299 1.2.2 Limitations of Current Osteoporosis Diagnostic Methods Typically, dual-energy X-ray absorption (DEXA) is a diagnostic tool used for osteoporosis to provide the level of BMD. However, there are several limitations associated with the DEXA scan. While DEXA remains popular, its assessment focuses majorly on BMD but fails to investigate other important features: the quality and microarchitecture of bone, which are critically important in determining fracture risk (Alawi et al., 2021). Besides that, DEXA scans are expensive and not widely available in resource-poor settings. Therefore, it remains quite a daunting task to provide early diagnosis and preventive treatments to a large number of such patients (Yen et al., 2024). Traditional X-ray imaging is accessible; however, the manual interpretation of X-rays for osteoporosis", "that, DEXA scans are expensive and not widely available in resource-poor settings. Therefore, it remains quite a daunting task to provide early diagnosis and preventive treatments to a large number of such patients (Yen et al., 2024). Traditional X-ray imaging is accessible; however, the manual interpretation of X-rays for osteoporosis detection is highly subjective. This subjectivity leads to significant variations in diagnostic accuracy among clinicians. These are major drawbacks and constitute the need for much more accurate, accessible, and objective methods of diagnosis (Yen et al., 2024). 1.2.3 Challenges in Adopting AI-Based Diagnosis in Clinical Practice Artificial intelligence has shown great promise, especially through CNNs, in the automatic analysis of medical images, including X-rays, for knee osteoporosis detection. These CNN-based models can reach very high accuracy in the determination of early signs of osteoporosis, such as cortical thinning and trabecular disorganization, via automatic feature extraction from the X-ray images (Wu et al., 2023). While these models achieve high accuracy, they are mostly \"black boxes\" to the users using them. The processes involved in their decision-making are incomprehensible to the user (Chakrobartty and El-Gayar, 2021). This lack of explainability constitutes one of the major barriers to the translation of such AI systems into clinical practice since clinicians must understand the basis on which predictions are made to validate their accuracy and thereby gain confidence in their use (London, 2019). 1.3 Problem Definition The problem this research will be tackling is the need for an automated, transparent system that will diagnose knee osteoporosis from X-ray images in a clinically explainable way. While conducting medical image analysis, highly accurate AI models can be obtained, unfortunately, this is impeded by the \"black box\" nature of acceptance in clinical workflow (Chaddad et al., 2023). Osteo-Vision Chapter 1: Introduction 3 Ravindu Y. Wijesekara | W1868299 There is always a clinician's need for transparency and interpretability to believe and interpret AI predictions as they need to understand how diagnostic decisions are made (London, 2019). The project to be undertaken would bridge this gap by developing an AI-driven system that can predict knee osteoporosis from X-ray images in such a manner that the results are explainable, which shall enable clinicians to interpret the model's predictions and make relevant decisions. 1.3.1 Problem Statement The lack of transparency and interpretability in current AI-based diagnostic models for knee osteoporosis significantly hinders their clinical adoption and practical implementation within healthcare environments. 1.4 Research Motivation The motivation behind this research is the critical need to improve the accuracy, access, and transparency of diagnosis, as currently available diagnostic tools- DEXA being highly expensive with limited approaches to the overall bone health (Yen et al., 2024), while manual analysis of X- rays is subjective. That can provide the ability to automate the diagnosis of knee osteoporosis using AI-based systems, but the lack of explainability in current AI models is a big barrier in front of adopting those in the clinical settings (Allam et al., 2023). 1.5 Research Gap Upon conducting a literature review on the", "can provide the ability to automate the diagnosis of knee osteoporosis using AI-based systems, but the lack of explainability in current AI models is a big barrier in front of adopting those in the clinical settings (Allam et al., 2023). 1.5 Research Gap Upon conducting a literature review on the topic, the limitations of the existing research work is outlined below. \u2022 Lack of Interpretability in the Existing AI Models. The major challenges with AI-based diagnosis of knee osteoporosis arise from a lack of Explainable AI to interpret the prediction made through deep learning models. Most state-of-the- art AI models reach high accuracy but work as \"black boxes\" without giving any explanation of how decisions are made (Ghnemat, Alodibat and Abu Al-Haija, 2023). This creates an interpretability gap, a huge barrier to clinical adoption because clinicians should believe and understand the rationale of diagnostic outputs at least when treatment decisions are made. Explaining AI using insights-it is possible even visually-can help overcome this challenge. There Osteo-Vision Chapter 1: Introduction 4 Ravindu Y. Wijesekara | W1868299 is a critical need for models that provide accurate results with clear and interpretable explanations, which are trustworthy and applicable to real healthcare settings. \u2022 Limited Exploration of Advanced Pre-trained Models for Enhanced Diagnostic Accuracy Another research gap is the lack of investigation into advanced, high-performing pre-trained CNN models tailored specifically to knee osteoporosis diagnosis. While some studies have explored models such as VGG16 or ResNet50, newer, more powerful architectures like EfficientNetB4 have so far not been attempted. It offers superior accuracy and feature extraction capabilities, which could provide a more detailed analysis of knee X-ray images and potentially enhance diagnostic performance (Talukder et al., 2024). This research will incorporate EfficientNetB4, aiming to address the diagnostic accuracy limitations seen in previous models. This project proposes to address the above research gaps by using XAI techniques to improve the transparency of the model, making it more clinically feasible for knee osteoporosis diagnosis, and using EfficientNetB4 to address the diagnostic accuracy limitations seen in previous models making it more clinically feasible for knee osteoporosis diagnosis. 1.6 Contribution to Body of Knowledge 1.6.1 Problem Domain Contribution The project identifies the presence of some shortcomings in knee osteoporosis diagnosis, whereby existing AI-based systems fail to satisfy either the aspect of being interpretable or focused on knee joints. Instead, decisions on diagnosis are typically made through subjective analysis of X-ray images or other high-expense procedures such as DEXA scans, hence making the processes less efficient in the quest to identify early signs of knee osteoporosis. This research puts forward an automated and scalable solution which improves diagnosis accuracy with the use of new and advanced pre-trained models and makes the predictions explainable, using XAI techniques. It shall overcome the deficiencies of classical AI approaches and manual diagnosis by improving the transparency of AI systems in a trustable and effectively deployable manner by clinicians in real- world settings. Osteo-Vision Chapter 1: Introduction 5 Ravindu Y. Wijesekara | W1868299 1.6.2 Research Domain", "predictions explainable, using XAI techniques. It shall overcome the deficiencies of classical AI approaches and manual diagnosis by improving the transparency of AI systems in a trustable and effectively deployable manner by clinicians in real- world settings. Osteo-Vision Chapter 1: Introduction 5 Ravindu Y. Wijesekara | W1868299 1.6.2 Research Domain Contribution This project introduces a novel application of Explainable AI (XAI) techniques within a knee osteoporosis diagnosis domain, which has been very rarely explored by current AI research. By leveraging EfficientNetB4, this project introduces a novel application of a sophisticated pre- trained model optimized for complex medical imaging tasks, alongside XAI techniques for interpretability. This represents a unique contribution to the AI research domain, considering explainability within AI models for knee diagnosis, which up until now has been understudied, thereby allowing for greater clinician trust in and adoption of AI within healthcare. This model also bridges the gap between high-performing AI models and practical implementation in clinical settings in a trustworthy manner, offering a large stride over traditional \"black box\" models. 1.7 Research Aim This research aims to design a knee osteoporosis diagnosis system that takes advantage of the X- ray images and deep learning approaches based on XAI, hence making the diagnosis precise and interpretable. To further elaborate on the aim, this study will present a robust and interpretable deep learning-based diagnosis system for knee osteoporosis using X-ray image modalities. This will be further realized using a deep learning approach, such as CNNs, which might bring to the fore early signs of this disease in the knee joint. It will also integrate Explainable AI techniques into the process to make the predictions transparent and understandable to clinicians. This study will try to overcome the challenges of the \"black box\" nature of AI models currently used, which do not explain decisions, thus limiting their use in a clinical context, by marrying accuracy with interpretability. 1.8 Research Objectives Table 1.1 : Research Objectives Objective Description Learning Outcomes Research Questions Problem Identification Conduct extensive analysis across different research domains and identify the problem. LO1, LO2 Osteo-Vision Chapter 1: Introduction 6 Ravindu Y. Wijesekara | W1868299 RO1: Identifying an interesting and sufficiently complex research domain for undergraduate research to conduct within the limited time frame. RO2: Dive deep into the identified problem to understand how to solve it. RO3: Create a plan, including timelines for tasks and associated deliverables, as well as a Gantt chart to track the progress of this research project. Literature Review Conduct an in-depth analysis of existing literature to fulfill the requirements below, RO4: Review existing models in knee osteoporosis diagnosis and find their limitations. RO5: Analyze deep learning approaches like CNNs for medical imaging. RO6: Study the integration of Explainable AI (XAI) techniques in medical diagnosis. RO7: Study the impact of explainability on clinician trust and acceptance of AI tools. RO8: Researching essential machine learning techniques and evaluation methods LO1, LO4, LO5 RQ1, RQ2 Requirement Analysis Gather and analyze technical and clinical prerequisites for the proposed system, R09:", "of Explainable AI (XAI) techniques in medical diagnosis. RO7: Study the impact of explainability on clinician trust and acceptance of AI tools. RO8: Researching essential machine learning techniques and evaluation methods LO1, LO4, LO5 RQ1, RQ2 Requirement Analysis Gather and analyze technical and clinical prerequisites for the proposed system, R09: Conduct interviews with clinicians to gather insights into what they need from an explainable AI system for knee osteoporosis diagnosis. L01, L03, L06 RQ3, RQ1 Osteo-Vision Chapter 1: Introduction 7 Ravindu Y. Wijesekara | W1868299 RO10: Identify the technical challenges in building interpretable AI models for knee osteoporosis. RO11: Identify the legal, social, and ethical implications of deploying AI in healthcare. Design Design the architecture of the proposed system to effectively solve the identified problems. RO12: Develop a system architecture that addresses the issue of transparency and reliability. RO13: Design a solution that offers visual and contextual explanations to clinicians. R014: Ensure scalability and integration of XAI with deep learning models. LO1 RQ3, RQ1 Development Implement a functional system to address the diagnostic gap. RO15: Develop a CNN-based model for detecting knee osteoporosis from X-rays. RO16: Integrate XAI techniques (e.g., Grad- CAM) to provide interpretable predictions. RO17: Implement model optimizations, such as transfer learning and data augmentation. RO18: Develop user interfaces that allow clinicians to easily interpret and act on AI model outputs. L07, L05 RQ3, RQ2 Osteo-Vision Chapter 1: Introduction 8 Ravindu Y. Wijesekara | W1868299 Testing & Evaluation Testing and evaluating the proposed system performance, RO19: Create a test plan and conduct unit and integration testing to validate the model\u2019s performance. RO20: Evaluate the explainability of AI predictions and ensure they are interpretable by clinicians. RO21: Benchmark the accuracy and interpretability of the model. L04 RQ3 1.9 Research Challenges The diagnosis of knee osteoporosis using AI-based systems faces several important challenges that need to be overcome in order to guarantee the successful clinical introduction of such models, such as: \u2022 Data Quality and Availability: The quality of knee X-ray images for diagnosing osteoporosis would vary depending on the imaging technique, equipment used, and even the conditions of the patients. However, the number of publicly available datasets regarding knee osteoporosis is limited, thus limiting the training and validation of AI models and further making generalization across diverse populations difficult. \u2022 Selection of Optimal Pre-trained Model: Selecting the most suitable pre-trained model for diagnosing knee osteoporosis. Since a large variety of architectures can be seen in CNNs, each with its own advantages and disadvantages. Careful attention must be given to the model's accuracy, its power of feature extraction, computation efficiency, and allowance for transfer learning. Additionally, balancing accuracy and interpretability within a clinical context remains a critical decision point. \u2022 Ensuring Interpretability of AI Predictions: Osteo-Vision Chapter 1: Introduction 9 Ravindu Y. Wijesekara | W1868299 While high accuracy is often critical, most of these state-of-the-art AI models are still non- interpretable, hindering their clinical acceptance. Clinicians can effectively use AI-generated diagnoses in clinical settings only when they understand how the", "Ensuring Interpretability of AI Predictions: Osteo-Vision Chapter 1: Introduction 9 Ravindu Y. Wijesekara | W1868299 While high accuracy is often critical, most of these state-of-the-art AI models are still non- interpretable, hindering their clinical acceptance. Clinicians can effectively use AI-generated diagnoses in clinical settings only when they understand how the model arrived at the diagnosis. Incorporating Explainable AI (XAI) techniques, such as Grad-CAM or LIME, introduces a layer of transparency to the model by highlighting which regions of the X-ray are contributing the specific diagnostic predictions. 1.10 Research Questions RQ1: How do the state-of-the-art AI-based technologies for the diagnosis of knee osteoporosis fail to provide interpretable and reliable predictions, thus limiting their clinical adoption? RQ2: What XAI methods are appropriate that may be applied so that AI predictions related to knee osteoporosis will be more understandable by clinicians? RQ3: How does the integration of Explainable AI techniques impact the medical professionals' trust and acceptance of AI predictions? 1.11 Chapter Summary This chapter introduced the problem of AI in diagnosing knee osteoporosis using X-ray imaging and gave many limitations to the available methods used for diagnosis. The specific problem that this research would address, motivation, and prior existing work in the field were highlighted. The identified research gap was the lack of explainability in state-of-the-art AI models. The contributions by the author in this project to the research domain will be made by integrating explainable AI so that it becomes accurate and transparent. This chapter also covered the research questions, objectives, and challenges in preparing the thesis for its next stage. Osteo-Vision Chapter 2: Literature Review 10 Ravindu Y. Wijesekara | W1868299 CHAPTER 2 : LITERATURE REVIEW 2.1 Chapter Overview This chapter will review the literature regarding the prediction of knee osteoporosis, focusing on the integration between AI, and more specifically deep learning approaches with medical imaging. As such, the following section will first introduce the problem area, highlighting the relevance of osteoporosis and the difficulties associated with prediction using X-ray imaging. It then shows related work in terms of the prediction of knee osteoporosis, with a special interest in X-ray imaging, and further toward the role of explainable AI for enhancing transparency and, thus, the trustworthiness of AI models in the medical domain. This review will help to identify the current research gaps and justify the significance of the proposed research. 2.2 Concept Map The author has created a concept map upon which areas covered throughout the literature review. The concept map gives a visual representation of the key components related to problem domain, existing solutions, and technologies. And it demonstrates how problem has narrowed down and connected with the research gap. The concept map can be viewed in Appendix A.1. 2.3 Problem Domain 2.3.1 Introduction to Knee Osteoporosis Knee osteoporosis is a degenerative bone disease characterized by the loss of bone mineral density (BMD), which weakens the structure of the bone and predisposes one to the risk of fractures (Yen et al., 2024). These usually affect elderly and postmenopausal", "A.1. 2.3 Problem Domain 2.3.1 Introduction to Knee Osteoporosis Knee osteoporosis is a degenerative bone disease characterized by the loss of bone mineral density (BMD), which weakens the structure of the bone and predisposes one to the risk of fractures (Yen et al., 2024). These usually affect elderly and postmenopausal women (Nakamoto, Taguchi and Kakimoto, 2022). It takes a long time to treat osteoporosis, but it can be reduced if the disease can be detected at its early stage called osteopenia (Gobara et al., 2024). If a fracture happens, the cost for the fracture fixation and other treatments are very high. It is very important to diagnose knee osteoporosis for an on-time intervention to reduce the risks and the treatment cost (Wani and Arora, 2023). Osteoporosis in the knee is unlike the other regions such as the hip or spine, as its anatomical complication and specific loading conditions of the knee joint during daily activities create different challenges (Gobara et al., 2024). According to De Villiers and Goldstein (2022), Osteo-Vision Chapter 2: Literature Review 11 Ravindu Y. Wijesekara | W1868299 the prevalence of osteoporosis is associated with increasing age, with the highest prevalence found in postmenopausal women in fact, studies show that one in three women after the age of 50 will experience osteoporotic fractures worldwide (De Villiers and Goldstein, 2022). This condition is underdiagnosed since routine assessments of BMD are not performed for the knee, and this leaves a wide gap in the preventive care and treatment strategies for such conditions (Gobara et al., 2024). It is very important to understand the salient features of knee osteoporosis to develop appropriate diagnostic tools that will help to prevent knee osteoporosis at its early stages (Wani and Arora, 2023). 2.3.2 Impact of Knee Osteoporosis If knee osteoporosis is not diagnosed or left untreated, serious complications such as an increased risk of bone fractures may occur, leading to a great limitation on the extent of activities that could be performed due to impaired mobility (Gobara et al., 2024). For elderly subjects, this may be manifested as longer hospitalization after a fracture, which might worsen current comorbidities and generally impair health status (Gobara et al., 2024). It has also been determined that, unless treated, osteoporosis can lead to crippling pain and disability and therefore needs to be addressed by medical professionals with significant focus being placed on early diagnosis and treatment methods (Varshney et al., 2023). The psychological impact on patients which can take the form of anxiety and depression due to a loss of mobility and independence continues to fuel interest in viable diagnostic capabilities (Sozen, Ozisik and Calik Basaran, 2017). The economic burden of osteoporosis in general and knee-specific cases is huge. Treatment costs, loss of productivity, and the need for long-term care all constitute a load on healthcare systems worldwide. For instance, fractures of the knee in older patients typically result in long- standing disability; in fact, many are never able to return to former activities or independence (Wani and", "huge. Treatment costs, loss of productivity, and the need for long-term care all constitute a load on healthcare systems worldwide. For instance, fractures of the knee in older patients typically result in long- standing disability; in fact, many are never able to return to former activities or independence (Wani and Arora, 2023). Thus, early and precise diagnosis is required to prevent fractures and reduce the social impact, aside from economic losses due to knee osteoporosis (Wani and Arora, 2023). Osteo-Vision Chapter 2: Literature Review 12 Ravindu Y. Wijesekara | W1868299 2.3.3 Challenges in Diagnosing Knee Osteoporosis In considering the knee joint as a specific site for the assessment of BMD, traditional diagnostic methods such as dual-energy X-ray absorptiometry are limited. These methods tend to miss subarticular bone loss because they are based on larger bone structure analysis (Dodamani and Danti, 2023). Moreover, X-rays are always subjected to some degree of variability by nature of interpretation by different clinicians. They maintain different opinions about what constitutes a significant finding, which may lead to inconsistent diagnoses and variability in clinical outcomes (Yen et al., 2024). A recent study by Gobara et al., (2024) shown anatomical difficulties also complicate diagnosis, the complex structure of the knee makes the identification of insignificant changes in bone density that may be indicative of initial stages of osteoporosis difficult to detect Such limitations make room for more objective and automated diagnostic methodologies that can improve diagnostic accuracy, standardization, and reliability. 2.3.4 Medical Biomarkers for Osteoporosis Diagnosis Bone Mineral Density (BMD) continues to serve as the principal biomarker for the identification of osteoporosis, encompassing knee osteoporosis specifically (He et al., 2018). The reduction of BMD, especially within the subarticular area of the knee joint, serves as a significant marker for the advancement of osteoporosis (Chen et al., 2023) . Moreover, alongside BMD, additional biomarkers, including bone turnover markers like CTX and NTX, have been examined to evaluate the rate at which bone loss occurs (Eastell and Hannon, 2008). However, there are problems with the measurement of BMD in the knee. According to Kuo and Chen, (2017) the density of the subarticular trabecular bone, situated beneath the cartilage in the intercondylar notch significantly decreases in osteoporotic patients which is related to reduced mechanical properties of the bone (Kuo and Chen, 2017). Precise assessment of BMD in this region is very important because it directly relates to the structural integrity of the knee joint and its susceptibility to fractures (Rangayyan et al., 2024). This complexity highlights the importance of advanced imaging techniques that can measure BMD in a more localized and precise manner. Osteo-Vision Chapter 2: Literature Review 13 Ravindu Y. Wijesekara | W1868299 2.3.5 Importance of AI Diagnostic Tools AI in the diagnosis of osteoporosis, and especially related to the knee, represents a great leap into modern radiological imaging. AI diagnostic tools can provide a more objective look at X-ray images, with less subjectivity than is often associated with manual interpretation (Liu et al., 2020). Machine learning algorithms, especially", "AI in the diagnosis of osteoporosis, and especially related to the knee, represents a great leap into modern radiological imaging. AI diagnostic tools can provide a more objective look at X-ray images, with less subjectivity than is often associated with manual interpretation (Liu et al., 2020). Machine learning algorithms, especially deep learning models, have now been developed that detect early signs of osteoporosis by analyzing bone texture, density, and structure in X-ray images (Nakamoto, Taguchi and Kakimoto, 2022). AI-powered diagnosis of osteoporosis is well-positioned to enhance diagnostic precision, facilitating early detection and enabling personalized treatment strategies. Such tools can process large volumes of data with incredible speed and accuracy, enabling timely feedback to clinicians in real-time, which is crucial in a clinical setting (Feng et al., 2023). The potential use of AI to diagnose knee osteoporosis can significantly improve upon the limitations of conventional methods, enhancing the overall diagnostic process. 2.3.6 Relevance of Computer Vision to Osteoporosis Detection Computer vision is a sub-discipline of AI that plays an important role in medical image analysis concerning X-rays for detecting osteoporosis. Computer vision may use deep learning models such as CNN to detect minute changes in structure and density in bones that may not be visible to the naked eye. These systems can detect patterns indicative of osteoporosis progression, such as cortical thinning and trabecular disorganization that is representative of bone fragility (Allam et al., 2023). Therefore, computer vision finds its place in knee osteoporosis diagnosis, as it can automate X-ray image analysis. This will increase speed and consistency in the diagnosis of knee osteoporosis (Allam et al., 2023). With the use of pre-trained CNN models, AI systems can classify X-ray images with precision into categories like healthy, osteopenic, and osteoporotic to assist the clinician in making more informed decisions (Gobara et al., 2024). This will also reduce the workload on the radiologists and increase the chances of early detection, which is very important for preventing fractures and long-term disability (Gobara et al., 2024). Osteo-Vision Chapter 2: Literature Review 14 Ravindu Y. Wijesekara | W1868299 2.3.7 X-ray Imaging in Osteoporosis Diagnosis X-ray imaging remains the most accessible and widely used tool for diagnosing osteoporosis, particularly in resource-limited settings. However, traditional manual interpretation of X-rays is prone to errors, especially when detecting subtle changes associated with early-stage osteoporosis (Wani and Arora, 2023) . AI-based X-ray analysis offers a solution to these limitations by providing more accurate and consistent interpretations. In knee osteoporosis diagnosis, AI models trained on X-ray images have shown promise in identifying BMD loss in specific regions of the knee joint. For instance, CNN models can detect changes in the subarticular trabecular bone, which is a critical indicator of osteoporosis progression (Wani and Arora, 2023) . By automating the analysis of X-rays, AI systems can provide real-time diagnostic feedback, enhancing the accuracy of early osteoporosis detection and improving patient outcomes. Figure 2.1: Knee Osteoporosis Classification Osteo-Vision Chapter 2: Literature Review 15 Ravindu Y. Wijesekara | W1868299 2.3.8 Interpretability and Trust Issues", "(Wani and Arora, 2023) . By automating the analysis of X-rays, AI systems can provide real-time diagnostic feedback, enhancing the accuracy of early osteoporosis detection and improving patient outcomes. Figure 2.1: Knee Osteoporosis Classification Osteo-Vision Chapter 2: Literature Review 15 Ravindu Y. Wijesekara | W1868299 2.3.8 Interpretability and Trust Issues in AI-based Diagnosis Medical diagnosis of conditions such as knee osteoporosis using AI models does raise critical challenges as far as interpretability and trust are concerned to the clinicians (Liu et al., 2024). Whereas the AI models, specifically deep learning systems like CNNs, have demonstrated unparalleled performance in image-based diagnosis, they often tend to behave like \"black box\" models (Mir\u00f3-Nicolau, Moy\u00e0-Alcover and Jaume-i-Cap\u00f3, 2022). That is, it is possible for the results of these models to be very accurate, but the inner workings that lead to those conclusions are impenetrable, impossible to understand for the clinician (Von Eschenbach, 2021). For clinicians, trust is a very important factor in the adoption of new technologies. When treatment decisions depend on the technology, the clinicians must understand how the model reaches a particular diagnosis to make sure it makes sense based on medical knowledge and clinical protocols (S Band et al., 2023). One of the major barriers is the lack of transparency within AI models. Because clinicians cannot truly understand why any particular AI diagnosis is being generated, they are naturally leery of acting based on this type of system regarding patient care, citing the risk that a model may fail to account for contextual factors or misinterpret subtle diagnostic cues (Von Eschenbach, 2021). This problem is concerning, considering that in more complex cases of medicine, a wrong diagnosis has the possibility of severe consequences. For conditions like knee osteoporosis, the basis of prevention from fractures and long-term disability is early detection and diagnosis. Medical clinicians are trained to make decisions by using their clinical experience in combination with history taken from the patients and interpretation of images (Liu et al., 2024). However, if the AI models make a diagnosis without there being an interpretable explanation, then the clinician's ability for cross-checks or validation of the output against his knowledge is limited (S Band et al., 2023). 2.3.9 Introduction to Explainable AI (XAI) XAI is an ensemble of various methods and techniques that allow AI models to make their decision-making processes transparent and comprehensible to humans (E. Ihongbe et al., 2024). XAI plays a core role in health since clinicians must believe in the forecasts that arrive from the AI models and understand the underlying logical sense behind them. Lack of explainability makes Osteo-Vision Chapter 2: Literature Review 16 Ravindu Y. Wijesekara | W1868299 AI models appear like \"black boxes\" and limits their extension into clinical settings (Mir\u00f3-Nicolau, Moy\u00e0-Alcover and Jaume-i-Cap\u00f3, 2022). Medical diagnosis is a high-stakes domain, and clinicians have to trust and verify AI predictions. Interpretable AI is important because, with that, the clinician will be able to understand or make sense of outputs coming from an AI model and also", "extension into clinical settings (Mir\u00f3-Nicolau, Moy\u00e0-Alcover and Jaume-i-Cap\u00f3, 2022). Medical diagnosis is a high-stakes domain, and clinicians have to trust and verify AI predictions. Interpretable AI is important because, with that, the clinician will be able to understand or make sense of outputs coming from an AI model and also understand how the model came up with a particular diagnosis. Techniques like Grad-CAM, LIME, and SHAP have been proposed for visual model decisions and highlight features relevant in the input data (Ghnemat, Alodibat and Abu Al- Haija, 2023). 2.3.10 XAI Applications in the Medical Domain XAI has been applied to many spheres of healthcare, such as radiology and pathology. For instance, XAI tools have been used in medical imaging to provide insight into the diagnosis made by AI systems (Ghnemat, Alodibat and Abu Al-Haija, 2023). In the diagnosis of knee osteoporosis, the integration of XAI will ensure that clinicians understand how the algorithm came up with a specific conclusion regarding bone health. Interpretive results with AI models used for the diagnosis of knee osteoporosis shall help healthcare providers stay abreast of informed decisions but also remain responsible for patient care outcomes (Liu et al., 2024). This ensures that besides diagnostic accuracy, integration fits within the ethical standards common for the delivery of patient-centered care. 2.4 Existing Work 2.4.1 Current Research on Osteoporosis Diagnosis Using AI Artificial intelligence techniques, primarily machine learning, have taken the diagnosis of osteoporosis to the next step by enabling higher levels of prediction using multiple clinical and imaging data. Traditional diagnostic tools, such as DXA scans, rely mainly on bone mineral density (Alawi et al., 2021). However, this does not indicate the critical modifications in bone micro- architecture leading to a reduction in bone resistance. This, therefore, calls for the introduction of artificial intelligence models to help bridge this gap. Osteo-Vision Chapter 2: Literature Review 17 Ravindu Y. Wijesekara | W1868299 For example, Wu and Park, (2023), studied how clinical risk factors such as age, gender, and history of prior fractures were used to train machine learning models, finding the best performance when using decision trees and SVMs compared to more traditional statistical models. In a significant early study, Tomita, Cheung and Hassanpour (2018), utilized DCNN to identify osteoporotic vertebral fractures from vertebrae CT images. They compared the performance of AI models with that of practicing radiologists and proved that AI could achieve comparable accuracy to that of experienced radiologists-a milestone of AI-assisted diagnosis using medical imaging. Similarly, Derkatch et al., (2019) used CNNs for vertebral fracture detection from DXA images, reporting high accuracy in automated fracture detection. Yasaka et al.,(2020) and Sollmann et al., (2020) focused on the application of CNNs in predicting BMD from CT images of the lumbar vertebrae and spine, respectively. These resulted in strong correlations between CNN-predicted BMD and that measured using DXA, thus further confirming the efficacy of AI-based techniques for the medical analysis of bone density. Liu et al., (2020) presented an osteoporosis diagnosis algorithm based on the U-NET", "CT images of the lumbar vertebrae and spine, respectively. These resulted in strong correlations between CNN-predicted BMD and that measured using DXA, thus further confirming the efficacy of AI-based techniques for the medical analysis of bone density. Liu et al., (2020) presented an osteoporosis diagnosis algorithm based on the U-NET network. Lee et al. (2020) applied a very similar approach to lateral lumbar spine radiographs and reached very high sensitivity in early-stage osteoporosis detection. Zhang et al., (2020) used CNN architectures like VGG-16 and ResNet-50 to detect osteoporosis and osteopenia in lumbar spine radiographs, Based on VGG-19, VGG-16, DenseNet-121, and ResNet-50, several researchers have used transfer learning to build a better model for knee osteoporosis diagnosis based on X-rays. Their results indicated that although transfer learning models yielded very high accuracies, further improvement is still required to assure the generalization ability of these models for various patients and different imaging modalities. 2.4.2 Knee Osteoporosis Diagnosis Using X-ray Imaging Although less frequently diagnosed than hip or vertebral, knee osteoporosis is a critical area of research due to its significant effects on mobility and quality of life. Thus, X-ray imaging is nowadays one of the most important diagnostic tools in knee osteoporosis, taking into consideration availability and good representation of bone architecture. Several works have Osteo-Vision Chapter 2: Literature Review 18 Ravindu Y. Wijesekara | W1868299 recently shown excellent performance of deep learning models on classification tasks related to knee X-rays. He et al., (2018) conducted the analysis of knee X-rays, proposing that there are two radiographic parameters for bone quality assessment, cortical bone thickness and distal femoral cortex. They found a significant correlation between these parameters and BMD with a T-score. Shawon et al., (2024) have shown the capability of CNNs in predicting the presence of osteoporosis from knee X-rays with high accuracy using models such as VGG16 and ResNet50. Gobara et al. (2024) developed a VGG-19 model that achieves the highest accuracy at 92.0% for multiclass and 97.5% for binary for knee osteoporosis diagnosis. Wani and Arora, in 2024, proposed transfer learning using the CNN architectures comprised of AlexNet, VGG-16, and ResNet for diagnosing knee osteoporosis. The reported accuracy with AlexNet was 91%. Kumar et al. (2023) developed this further by proposing a fuzzy rank-based ensemble model that resulted in an accuracy of 91.4% on ResNet 18 for a multiclass knee X-ray dataset. Abubakar et al. classified the knee X-ray images by transfer learning, and the accuracies of 90% for GoogleNet and 87% for VGG-16 were obtained as results. 2.4.3 Challenges and limitations in current AI-based Knee Osteoporosis Diagnosis Despite the great heights achieved by AI in the diagnosis of osteoporosis, many challenges must be overcome in practice, especially in knee osteoporosis. For one, there are limited big, annotated datasets (Liu et al., 2024). Deep learning requires huge amounts of labeled data, which in the medical domain is often scarce. However, while AI models have achieved outstanding performance, the lack of explainability currently is one of the major barriers to", "knee osteoporosis. For one, there are limited big, annotated datasets (Liu et al., 2024). Deep learning requires huge amounts of labeled data, which in the medical domain is often scarce. However, while AI models have achieved outstanding performance, the lack of explainability currently is one of the major barriers to clinical acceptance (Ghnemat, Alodibat and Abu Al-Haija, 2023). Clinicians need to understand the reasoning behind an AI-driven diagnosis, particularly in those cases that involve difficult decisions about treatment, such as in the case of osteoporosis. Techniques from Explainable AI, delivering visual or textual explanations for AI predictions, could improve trust and usability in medical practice (S Band et al., 2023). Osteo-Vision Chapter 2: Literature Review 19 Ravindu Y. Wijesekara | W1868299 2.5 Technological Review 2.5.1 Proposed Architecture for the Osteoporosis Diagnosis Model Architecture is the most crucial factor in identifying the correctness and efficiency of the prediction of osteoporosis, mainly from X-ray images of knees. The model architecture to be proposed for the research will be a deep learning framework with Convolutional Neural Networks at its heart. CNNs tend to be very suitable for medical image analysis because they are able to learn the features from raw data, like X-ray images, without explicit feature engineering (Salehi et al., 2023). These include several convolutional layers to identify local features of bone texture and density patterns, followed by pooling layers, which reduce the spatial dimensions but maintain the information, and finally, fully connected layers for classification. Model output will include the prediction of the patient having either normal bone density, osteopenia, or osteoporosis. The developed techniques based on transfer learning will be carried out by the implementation of the pre-trained model on VGG19, VGG16, ResNet50, and InceptionNet fine-tuned on knee-specific datasets. Figure 2.2: Proposed Architecture for Osteo-Vision Osteo-Vision Chapter 2: Literature Review 20 Ravindu Y. Wijesekara | W1868299 2.5.2 Dataset and Preprocessing Techniques The dataset used in this work is a combination of four publicly available datasets from Mendeley and Kaggle, containing 1947 X-ray images divided into three categories normal, osteopenia, and osteoporosis. It consists of 793 pictures for osteoporosis, 374 for osteopenia, and 780 for health or normal X-ray images. The dataset includes both binary and multiclass classification tasks. Considering medical imaging, it is a crucial step toward ensuring the quality and accuracy of image recognition models. Proper pre-processing of the input images brings a lot of improvement in the performance of machine learning models, as it normalizes the data by removing noise and ensuring proper feature representation. Some common techniques for image recognition pre-processing in medical modalities are below. 2.5.2.1 Image Normalization Image normalization can be defined as a process for scaling the pixel values within a particular range, such as between 0 and 1. This helps to make the input similar to deep learning models. Where there is an adjustment of the pixel intensity, the process of normalization reduces the effect of lighting conditions, as well as issues of contrast variance between sets of images, thus improving model generalization.", "as between 0 and 1. This helps to make the input similar to deep learning models. Where there is an adjustment of the pixel intensity, the process of normalization reduces the effect of lighting conditions, as well as issues of contrast variance between sets of images, thus improving model generalization. Previous research works, like that of Zhang et al.,(2020) have implemented image normalization on X-ray images to attain consistency across different datasets. This is particularly important for the stable convergence of both CNNs and transfer learning models. 2.5.2.2 Noise Reduction Medical images, especially X-rays, tend to have a lot of noise because of several factors such as the quality of the imaging modality or interference in the environment. In general practice, to remove these kinds of irrelevant details, smoothing operations like Gaussian filtering or median filtering that reduce noise are performed. Researchers like Lee et al. (2020) present that noise reduction increases the clarity of the image and thus can easily be used by convolutional layers during training to extract relevant features. This is crucial for models needing to detect the fine- grained features relating to fracture or changes in bone texture. 2.5.2.3 Data Augmentation Data augmentation artificially enhances the number of examples in a dataset using techniques such as rotation, flipping, scaling, and shifting to the images. This technique will help in avoiding Osteo-Vision Chapter 2: Literature Review 21 Ravindu Y. Wijesekara | W1868299 overfitting of the model in the training set because small-sized medical image datasets are used. Gobara et al., (2024) carried out data augmentation improving the accuracy of CNN models for detecting osteoporosis from knee X-rays. Data augmentation can be particularly effective for increasing model robustness when no additional data is collected. 2.5.2.4 Data Annotation Data annotation is the process of labeling or tagging images to highlight features of interest needed for the training of machine learning models. Data annotation in medical imaging generally involves the demarcation of regions of interest, such as bones, tissues, or fractures, in an X-ray, computed tomography, or MRI image. Precise annotation is incredibly important in supervised learning models, as it enables the model to learn the right way of identifying patterns that classify medical conditions. Common techniques used to annotate include the following: \u2022 Bound Boxes: Used to mark rectangle areas around objects of interest, such as fractures or abnormalities that may be contained within bones. \u2022 Semantic Segmentation: It assigns labels to each pixel in an image, providing a much finer- grained classification; for example, distinguishing between regions of bones or other tissues. \u2022 Key point annotation: It labels various points of interest, including joints, which can then be used to analyze motion or structural changes. For instance, in the work of Wani & Arora (2024), CNNs for the classification of osteoporotic and normal bones require ankle X-ray images with annotated datasets. However, because this process is time-consuming and expensive, several works have depended on semi- automated annotation tools or pre-annotated data such as those derived from public repositories", "the work of Wani & Arora (2024), CNNs for the classification of osteoporotic and normal bones require ankle X-ray images with annotated datasets. However, because this process is time-consuming and expensive, several works have depended on semi- automated annotation tools or pre-annotated data such as those derived from public repositories that include Mendeley and Kaggle to be fast in the annotation process. 2.5.3 Feature Extraction This research involves feature extraction, with deep learning models, the CNNs play a key role in convolving filters over X-ray images to get feature maps highlighting the main visual patterns related to bone structure and density. It incorporates pre-trained convolutional layers for feature extraction. These learned to detect low-level features, such as edges and textures, and Osteo-Vision Chapter 2: Literature Review 22 Ravindu Y. Wijesekara | W1868299 higher-level features, such as shapes and structures, from the dataset used. After extracting these features, they are passed on to the fully connected layers for further processing. 2.5.4 Mathematical Background and Formulations for Deep Learning Models Deep learning models, especially CNNs, make use of several mathematical functions to execute activities such as feature extraction and classification. These functions prescribe how data flows within the network and how the model will learn from the training data.(Gobara et al., 2024) 2.5.4.1 SoftMax Function The SoftMax function is indispensable in conducting a multiclass classification task. This function takes raw outputs from the network and converts them into probabilities. In addition, the sum of the probabilities is equal to one. This function is used on the output layer to predict probabilities for each class. 2.5.4.2 Sigmoid Function One of the most common uses of the Sigmoid function is within binary classification tasks. These squash the input values in the range [0, 1]. This interpretation lets the network consider the output as probabilities: Despite the problem of vanishing gradients, this sigmoid function finds applications in a lot of domains where binary decisions are essential. 2.5.4.3 ReLU (Rectified Linear Unit) ReLU stands for a rectified linear unit. ReLU is the most popular activation function for deep learning models because of its computational efficiency and help to solve the vanishing gradient problem. ReLU is defined as: Osteo-Vision Chapter 2: Literature Review 23 Ravindu Y. Wijesekara | W1868299 This function replaces negative values with zero, allowing only positive values to pass through, thus speeding up the convergence of deep learning models. 2.5.5 Algorithm Selection Deep learning algorithms, particularly Convolutional Neural Networks (CNNs), are well suited for medical image analysis tasks. Other machine learning algorithms, such as Support Vector Machines (SVM), Decision Trees, and k-Nearest Neighbors (KNN), have been widely explored in the literature in the medical domain for classification tasks. Nevertheless, CNNs show considerable advantages over the above-mentioned traditional approaches since they inherently have a feature extraction capability; thus, they may recognize complex patterns in X-ray images. Below is a discussion of several algorithms considered and a justification for prioritizing CNNs for this research. 2.5.5.1 Support Vector Machines (SVMs) The Support Vector Machines are a kind", "the above-mentioned traditional approaches since they inherently have a feature extraction capability; thus, they may recognize complex patterns in X-ray images. Below is a discussion of several algorithms considered and a justification for prioritizing CNNs for this research. 2.5.5.1 Support Vector Machines (SVMs) The Support Vector Machines are a kind of supervised learning that works effectively on small datasets and structured data. SVMs create hyperplanes in high-dimensional space for classifying data points and are often chosen for their robustness in binary and multiclass classification tasks. In general, applications of SVMs to high-dimensional image data like X-rays are fundamentally inappropriate; SVMs cannot extract features from data (Arens, 2010) . Besides, since there is no automated feature learning in the case of SVMs, these models require intensive pre-processing, linked with handcrafted feature engineering, thus turning them less suitable for complex and diverse image data like knee X-rays in the case of osteoporosis detection. 2.5.5.2 k-Nearest Neighbors (KNN) k-nearest neighbor (KNN) is a simple, instance-based classification algorithm that predicts the class label for new data points by looking at the majority class or the average value of its k nearest neighbors in the training data, where similarity is usually defined by a distance metric, for example, Euclidean distance. While KNN is simple and interpretable, it is also computationally intensive for large data because of the need to compute distances for every prediction. Moreover, KNN also does not have to nature to learn the spatial hierarchies from complex image data (Massatith, Boonnam and Hama, 2023). Osteo-Vision Chapter 2: Literature Review 24 Ravindu Y. Wijesekara | W1868299 2.5.5.3 Convolutional Neural Networks (CNNs) CNNs are foundational to this research due to their proven effectiveness in extracting spatial hierarchies from medical images. CNN model goes through two major processes for successful training. They are forward propagation and backpropagation. Forward propagation is the process of passing an input image through the network to generate an output based on the learned parameters in the model. This predicted result is compared to the expected output with the calculation of some form of error. The backward propagation uses this error to alter the weights of the neural network and fine-tunes the predictions of the model (Salehi et al., 2023). CNNs consist of three main types of layers: \u2022 Convolutional Layers: These apply filters to the input image, allowing for the extraction of features such as edges, textures, and more complex structures like bone density. \u2022 Pooling Layers: Pooling reduces the dimensionality of the feature maps, ensuring the model captures only the most important information (Salehi et al., 2023). \u2022 Fully Connected Layers: These layers, found towards the end of the network, make the final classification decision by flattening the feature maps into a vector and passing them through dense layers with learnable weights (Ibrahim and Shafiq, 2023). CNNs are used in the pre-trained models for this study, which include popular architectures such as EfficientNetB4, VGG-16, VGG-19, ResNet-50, AlexNet, InceptionNet, and XceptionNet, all of which are fine-tuned for optimal performance in the", "into a vector and passing them through dense layers with learnable weights (Ibrahim and Shafiq, 2023). CNNs are used in the pre-trained models for this study, which include popular architectures such as EfficientNetB4, VGG-16, VGG-19, ResNet-50, AlexNet, InceptionNet, and XceptionNet, all of which are fine-tuned for optimal performance in the task of knee osteoporosis diagnosis. 2.5.6 Transfer Learning Transfer learning for medical image analysis is necessary when the number of datasets is limited, such as X-rays of knees. This process involves fine-tuning the pre-trained models from large datasets, for example, ImageNet, by leveraging the knee X-ray dataset. Here are some examples, 2.5.6.1 EfficientNetB4 EfficientNetB4 is part of the model EfficientNet family, which are designed to make such a balance between high performance and computational efficiency. It introduces a new method of compound scaling where it scales all three dimensions of network depth, width, and resolution with one fixed scaling coefficient instead of scaling each of these dimensions separately. Because of this, EfficientNet models, including EfficientNetB4, achieve better accuracy and efficiency Osteo-Vision Chapter 2: Literature Review 25 Ravindu Y. Wijesekara | W1868299 characteristics compared to the classical CNN architectures like ResNet or AlexNet. In particular, EfficientNetB4 has an input resolution of 380 x 380 pixels, quite good for high-resolution image tasks and has seen very good performance in detailed feature extraction tasks such as medical image analysis and X-ray classification (Tan and Le, 2019). Talukder et al., (2024) has employed the EfficientNetB4 model for their study on COVID- 19 detection using X-ray images. They achieved 99.11% accuracy, showcasing the potential of the EfficientNetB4 model. They continued their study on identifying lung diseases using chest X- rays and they achieved remarkable performance with an accuracy of 99.17% with a precision of 99.13%. These findings underscore the effectiveness of the EfficientNetB4 model in medical imaging. 2.5.6.2 VGG-16 and VGG-19 VGG-16 and VGG-19 are CNN architectures of 16 and 19 layers, respectively. Both models are renowned for their simplicity and depth, making them very suitable for feature extraction in medical images. Small 3x3 convolutional filters are used, enabling the network to pay attention to fine-grained features that may present small changes in bone density. Typically, VGG models are trained on input resolutions of 224x224 pixels. Lee et al., (2020) employed VGG-16 to classify dental panoramic radiographs to detect osteoporosis. And Gobara et al., (2024) employed VGG- 19 to achieve 92% accuracy in knee osteoporosis diagnosis using X-ray images. 2.5.6.3 ResNet ResNet is a type of deep learning architecture specifically designed to handle the vanishing gradient problem seen commonly in very deep networks. Residual connections enable the network to \"skip\" layers, thus making training easier. It will be especially effective in catching complex patterns in knee X-rays such as cortical thinning and disorganized bone structure, some of the important markers of osteoporosis. ResNet models are typically trained at an input resolution of 224x224 pixels Kumar et al., (2023) employed ResNet-18 to achieve 91.4% accuracy in knee osteoporosis detection. 2.5.6.4 AlexNet AlexNet was one of the", "knee X-rays such as cortical thinning and disorganized bone structure, some of the important markers of osteoporosis. ResNet models are typically trained at an input resolution of 224x224 pixels Kumar et al., (2023) employed ResNet-18 to achieve 91.4% accuracy in knee osteoporosis detection. 2.5.6.4 AlexNet AlexNet was one of the first deep-learning models that popularized CNNs for image recognition. While it is relatively more straightforward compared to newer architectures, AlexNet is Osteo-Vision Chapter 2: Literature Review 26 Ravindu Y. Wijesekara | W1868299 nonetheless quite capable of recognizing strong patterns in medical images. Its shallow depth makes it computationally friendly. AlexNet generally operates with an input resolution of 227x227 pixels. According to Wani and Arora, (2023) AlexNet is the first CNN architecture to win the ImageNet challenge with a top-5 error rate of 15.3%. And they employed AlexNet and achieved 91.0% accuracy in knee osteoporosis detection. 2.5.6.5 InceptionNet InceptionNet or GoogLeNet involves the use of convolution filters in varying sizes combined to try to capture multi-scale features in images. This network has the capability of doing well in both macro- and micro-level feature identifications from knee X-rays, very much necessary in the early detection of osteoporosis. InceptionNet models are typically trained at an input resolution of 299x299 pixels Kumar et al., (2023) used InceptionNet to achieve 89.8% accuracy in their study. 2.5.7 Classification Feature extraction is followed by the classification process, which involves classifying input data into a category or label using the features extracted. In other words, in the case of an image, the classification task may include object or condition identification. In other words, this could mean labeling an X-ray image as either normal bones or one suffering from osteoporosis in medical imaging. In the machine learning model, after feature extraction, the data is passed through fully connected layers or dense layers. These are the layers that take the extracted feature mapping into classes. In the case of a CNN, once the convolutional layer processing is done by extracting the features, the classes are mapped. The classification layers often use a SoftMax or Sigmoid activation function, which outputs a probability distribution over the possible classes. It is common to take whatever class has the highest probability as the model's prediction. 2.5.8 Hyperparameter Tuning Hyperparameter tuning means the adjustment of the model parameters which enables arriving at the best performance. The tuning process includes adjustments to learning rates, batch sizes, dropout rates, and the number of epochs. \u2022 Learning Rate: This describes the speed at which the weights of the model will be adjusted during training. Osteo-Vision Chapter 2: Literature Review 27 Ravindu Y. Wijesekara | W1868299 \u2022 Batch Size: The number of training examples used in one iteration before updating the model\u2019s weights. \u2022 Dropout: Dropout is used to prevent overfitting by randomly \"dropping\" neurons during training. \u2022 Epochs: The number of epochs represents how many times the model sees the entire training dataset. Because a model is typically trained on 20 to 50 epochs, the process should not", "updating the model\u2019s weights. \u2022 Dropout: Dropout is used to prevent overfitting by randomly \"dropping\" neurons during training. \u2022 Epochs: The number of epochs represents how many times the model sees the entire training dataset. Because a model is typically trained on 20 to 50 epochs, the process should not overfit the model. Therefore, early stopping will be used. 2.5.9 Explainable AI (XAI) XAI should be viewed as a technique for making AI models' decisions understandable and interpretable by humans. While traditional AI models often tend to behave like \"black boxes,\" this concept strives to render transparency such that a user understands not only the prediction but also the reason behind this prediction. It is important because developing confidence in AI, particularly in sensitive domains like finance, healthcare, and jurisprudence, requires an explanation of the decisions since substantial consequences come associated with them. XAI is intended to solve the problem of interpretability, particularly in complex models such as deep learning networks. While such models boast prominent levels of accuracy, their understanding is tricky due to complexity. Therefore, XAI bridges this gap with detailed insight into the inner workings of AI models, thus facilitating users to trust, validate, and refine their predictions. Saliency maps: These are graphical representations that show which part of the input, such as a pixel in an image, is most relevant to the decision made by the AI model. They give a broader representation that emphasizes critical areas, hence making the model's reasoning more understandable. LIME-Local Interpretable Model-Agnostic Explanation: LIME creates a simpler interpretable model that approximates the AI's behavior locally around a specific prediction. It helps with which features contribute to that decision. SHAP (SHapley Additive exPlanations): SHAP assigns an expectation value to each feature for a certain prediction of the model, using concepts from game theory. It explains both individual and global model behavior. Osteo-Vision Chapter 2: Literature Review 28 Ravindu Y. Wijesekara | W1868299 Grad-CAM: While it finds common usage in image-based tasks, it visualizes heatmaps that suggest parts of an image influencing a decision made by AI. It comes in handy when understanding the CNNs predictions. Counterfactual Explanations: This shows how a model's prediction would change in case some features of the input were changed, therefore furnishing insights on which factors are most critical for decision-making. Feature Importance: This technique ranks features according to the contribution they make toward the model's predictions, thus helping users understand which variables the model is giving more importance to. Activation Maximization: This technique generates input data that maximizes the activation of certain neurons in the network and provides insight into what patterns or features a model is learning. 2.6 Benchmarking and Evaluation The main metrics for the evaluation of model performance include accuracy, precision, recall, F1- score, and AUC (the Area Under the ROC Curve). These metrics provided insight into both binary and multiclass classification models. Confusion matrices were used for evaluating the accuracy of classification and benchmarking performances against state-of-the-art models from recent studies. Figure 2.3:", "evaluation of model performance include accuracy, precision, recall, F1- score, and AUC (the Area Under the ROC Curve). These metrics provided insight into both binary and multiclass classification models. Confusion matrices were used for evaluating the accuracy of classification and benchmarking performances against state-of-the-art models from recent studies. Figure 2.3: Evaluation Formulas The table below summarizes the model performances of existing models related to knee osteoporosis diagnosis, Osteo-Vision Chapter 2: Literature Review 29 Ravindu Y. Wijesekara | W1868299 Table 2.1: Model Performance Summary of Existing Work Citation Model Accuracy % Precision % Recall % F1-Score % Gobara et. al 2024 VGG-19 Binary 97.5 97 97 97 VGG-16 Binary 90.4 90 90 90 ResNet 81.4 82 81 81 InceptionNet 89.7 90 90 90 Kumar et al.,2023 InceptionNet 89.8 N/A N/A N/A ResNet 91.4 N/A N/A N/A Abubakar et al., 2022 GoogLeNet 90 N/A N/A N/A VGG-16 87 N/A N/A N/A Wani & Arora, 2022 VGG-19 84.20 N/A N/A N/A AlexNet 91.0 N/A N/A N/A 2.7 Chapter Summary This chapter has described in detail the state-of-the-art review research and technological developments regarding the diagnosis of knee osteoporosis using AI and deep learning. We have looked at the problem domain by underlining the importance of the exact detection of osteoporosis and some major drawbacks of traditional methods of diagnosis. Different machine learning and deep learning techniques have also been discussed in the chapter, focusing on CNNs and Transfer learning approaches for osteoporosis prediction. Attention has been drawn to main models such as VGG19, VGG-16, ResNet-50, and AlexNet, where their main contribution is to enhance diagnostic accuracy. Further, hyperparameter tuning and the importance of XAI techniques have been discussed in providing more transparency and interpretability for AI models. Finally, the chapter concluded with an evaluation of the existing model\u2019s accuracy, precision, recall, and F1-score of the key metrics sets the base for further advancement in the diagnosis of knee osteoporosis. Osteo-Vision Chapter 3: Methodology 30 Ravindu Y. Wijesekara | W1868299 CHAPTER 3 : METHODOLOGY 3.1 Chapter Overview This chapter intends to outline the proposed methodology that shall be used in developing an AI- based system for knee osteoporosis diagnosis using X-ray imaging, integrated with Explainable AI techniques. It will describe the research methodology which will be applied, the development methodology, and the solution methodology in detail, including requirement elicitation, design, model selection, and testing. Additionally, the project management strategy, resource requirements, and risk management will be elaborated on. 3.2 Research Methodology Any research project's quality is mostly determined by three factors: scope, budget, and time, all of which need to be efficiently handled during the project's duration. Therefore, methodologies are required. The research methodology chosen for this project is based on the well-known Saunders Research Onion Model(Saunders, Thornhill and Lewis, 2019). Table 3.1: Research Methodologies Layer What is Being Used Why You Are Using It Philosophy Pragmatic philosophy approach A pragmatic philosophy could be most appropriate since, when addressing real-world issues, it permits flexibility in the application of both quantitative and qualitative evidence. Approach", "Research Onion Model(Saunders, Thornhill and Lewis, 2019). Table 3.1: Research Methodologies Layer What is Being Used Why You Are Using It Philosophy Pragmatic philosophy approach A pragmatic philosophy could be most appropriate since, when addressing real-world issues, it permits flexibility in the application of both quantitative and qualitative evidence. Approach Deductive The research aims to test the efficacy of CNN and transfer learning models for knee osteoporosis diagnosis. Methodological Choice Mixed Method (Quantitative and qualitative) Quantitative data from X-ray imaging models, alongside qualitative insights from stakeholders and experts. Strategy Experimental The plan is to experimentally test AI models and evaluate them using pre-labeled X-ray datasets. Osteo-Vision Chapter 3: Methodology 31 Ravindu Y. Wijesekara | W1868299 Interviews with domain experts (medical professionals) are opted since the target audience is medical professionals. Time Horizon Longitudinal The study aims to develop and get better over time with the latest data and clinical results changes. Data Collection Secondary Data (X-ray Images) Publicly available datasets such as the Mendeley and Kaggle datasets will be used for model training. 3.3 Development Methodology The author has chosen Prototype methodology as the development methodology due to its suitability for evolving research and experimentation. The prototype methodology supports deep learning model improvements and progressive construction and refinement via iterative feedbacks and it allows the author to incorporate insights from the domain experts and end users early in the development process which will help to validate the system\u2019s clinical relevancy and technical performance. 3.3.1 Requirement Elicitation Methodology Several techniques were employed to gather system requirements, including: \u2022 Interviews: Interviews will be conducted with medical professionals to understand the critical requirements for an AI-based knee osteoporosis diagnosis system and the importance of interpretability in the medical domain. \u2022 Surveys: Surveys will be distributed to machine learning experts to gather insights on algorithm selection and model optimization. \u2022 Document Analysis: Previous research on knee osteoporosis diagnosis and medical imaging guidelines will be reviewed to align the system's functionality with existing medical practices. 3.3.2 Design Methodology The system design will be designed based on the Structured System Analysis and Design Method (SSADM). This methodology was chosen considering the fact that the primary aim of the Osteo-Vision Chapter 3: Methodology 32 Ravindu Y. Wijesekara | W1868299 research was to propose a machine learning based diagnostic system on structured data processing and also the given time availability for this research, SSADM will be easier to follow through. 3.3.3 Programming Paradigm This project uses Object-Oriented Programming (OOP) because it enables the development of reusable and modular components that can represent many facets of this XAI-based knee osteoporosis diagnostic system. And OOP will focus on structuring code into objects that replicate real-world entities and interactions making it an ideal choice for designing a system like this. 3.3.4 Testing Methodology Both quantitative and qualitative methods of the evaluation will be used: \u2022 Model Testing: The performance of the CNN-based and transfer learning models will be evaluated using quantitative metrics, including accuracy, precision, recall, F1-score, and AUC-ROC. Consequently, each", "an ideal choice for designing a system like this. 3.3.4 Testing Methodology Both quantitative and qualitative methods of the evaluation will be used: \u2022 Model Testing: The performance of the CNN-based and transfer learning models will be evaluated using quantitative metrics, including accuracy, precision, recall, F1-score, and AUC-ROC. Consequently, each model will be tested for diagnosis capability regarding knee osteoporosis against the validation sets of the dataset. \u2022 Prototype Testing: Overall system functionality and user-friendliness will be tested, integrating expert feedback about the output provided by the XAI components to make it interpretable for the medical professional. 3.3.5 Solution Methodology 3.3.5.1 Dataset Collection X-ray image data of the knee would be gathered from public data sources such as Mendeley and Kaggle for model testing and training. The above-mentioned datasets have a sufficient number of images annotated in \"Normal,\" \"Osteopenic,\" and \"Osteoporotic\" conditions. 3.3.5.2 Data Preprocessing Data augmentation, such as rotation, flipping, and adjustment of contrast, will be performed to handle class imbalance and improve the generalization of the model. Normalization and standardization techniques are also applied for maintaining uniformity in the image dataset. 3.3.5.3 Feature Selection and Engineering The convolutional layers will automatically extract features from the X-ray images, which are critical in the diagnosis of osteoporosis, such as the texture and density of bones. These layers Osteo-Vision Chapter 3: Methodology 33 Ravindu Y. Wijesekara | W1868299 replace the usually tiresome and subjective process of manual selection of features, as they learn from data during training. 3.3.5.4 Model Selection Different machine learning models will be tried, ranging from CNNs to the transfer learning models of EfficientNetB4, VGG-19, and VGG-16 for the diagnosis of knee osteoporosis. To incorporate those pre-trained models, transfer learning will be implemented to reduce training time and improve performance on this relatively small dataset. 3.3.5.5 Model Training The augmented dataset will be used to train the models, utilizing techniques of cross-validation to generalize. The model shall use regularization methods, including dropout, to avoid overfitting. 3.3.5.6 Testing The performance of the models will be tested according to the metrics of accuracy, precision, recall, and F1-score using the unseen validation data in the diagnosis of the condition. 3.3.5.7 Feedback Loop After testing the model, feedback from the medical experts and machine learning experts will be incorporated in order to further improve the system's diagnostic performance and explainability. 3.4 Project Management Methodology 3.4.1 Scope 3.4.1.1 In-Scope The scope will focus on developing a knee osteoporosis diagnosis system using AI and X-ray imaging. Explainable AI techniques will be integrated to make the model's predictions interpretable. 3.4.1.2 Out-Scope Deployment of the system in a clinical setting or integration with live hospital systems is beyond the scope of this project. Osteo-Vision Chapter 3: Methodology 34 Ravindu Y. Wijesekara | W1868299 3.4.2 Schedule 3.4.2.1 Gantt Chart The Gantt chart has been attached to the Appendix B.1. 3.4.2.2 Project Deliverables and Dates Table 3.2: Project Deliverables and Dates Deliverable Date Project Proposal Document (Formative) The initial proposal of the project. 1st August 2024 Literature Review", "Methodology 34 Ravindu Y. Wijesekara | W1868299 3.4.2 Schedule 3.4.2.1 Gantt Chart The Gantt chart has been attached to the Appendix B.1. 3.4.2.2 Project Deliverables and Dates Table 3.2: Project Deliverables and Dates Deliverable Date Project Proposal Document (Formative) The initial proposal of the project. 1st August 2024 Literature Review Document (Formative) The Critical review of existing work and solutions. 2nd September 2024 Software Requirement Specification Document (Formative) The document specifies requirements to be satisfied and developed as the final prototype and means of collecting data. 3rd October 2024 Project Proposal and Requirements Specification (PPRS) + PoC The document with the combination of Initial project proposal with literature review and SRS. And the Proof-of-concept demonstration. 4th November 2024 IPD (Prototype) A functional version of the PoC with more design, functionality, and usability. 3rd February 2024. FPR and Demo (Minimum Viable Product) Near final version of the product, which is ready for testing with a demo of the product. 7th April 2024 3.4.3 Resource Requirements According to the previously mentioned objectives and functionalities that should be implemented in the system, the following hardware and software requirements are identified. Osteo-Vision Chapter 3: Methodology 35 Ravindu Y. Wijesekara | W1868299 3.4.3.1 Hardware: \u2022 Intel Core i5 or above processor: A high-performance multicore CPU capable of handling the computational needs of data pre-processing and machine learning algorithms. \u2022 16GB or above of RAM: To process and run machine learning models manage data processing, and also to facilitate the handling and processing of datasets, particularly for training models. \u2022 50 GB or more of disk space: To store trained models, datasets, and other project-related files. 3.4.3.2 Software: \u2022 Operating System (Windows/macOS/Linux) - To run essential programs such as IDEs as well as other required tools. Windows will be used by default. \u2022 Python - The primary programming language used to develop the proposed system. \u2022 PyCharm IDE - To make the development process more efficient. \u2022 ReactJS- ReactJS will be used to develop the front end of the proposed system. \u2022 NodeJS- NodeJS Will be used to handle APIs. \u2022 Zotero - To organize, manage, and back up the relevant research papers. \u2022 MS Office - To create the documents which are related to the project. \u2022 Google Drive - To back up the project-related files. \u2022 Docker Desktop - To containerize the application. \u2022 Google-Colaboratory- Cloud IDEs to support training the AI model with fewer resources. \u2022 Git/GitHub - To version control and backup the application code. 3.4.3.3 Data : Publicly available X-ray datasets (from sources like Mendeley and Kaggle) will provide the knee X-ray images required for model training, validation, and testing. 3.4.3.4 Skills : The technical skills required for the successful completion of the project are: \u2022 Familiarity with machine learning concepts, algorithms, and techniques. \u2022 Knowledge of CNNs and transfer learning models. Osteo-Vision Chapter 3: Methodology 36 Ravindu Y. Wijesekara | W1868299 \u2022 Basic project management skills \u2022 UI/ UX skills \u2022 Documentation skills 3.4.4 Risk and Mitigation Table 3.3: Risks", "of the project are: \u2022 Familiarity with machine learning concepts, algorithms, and techniques. \u2022 Knowledge of CNNs and transfer learning models. Osteo-Vision Chapter 3: Methodology 36 Ravindu Y. Wijesekara | W1868299 \u2022 Basic project management skills \u2022 UI/ UX skills \u2022 Documentation skills 3.4.4 Risk and Mitigation Table 3.3: Risks and Mitigations Risk Severity (Low, Medium, High) Frequency (Rare, Likely, Frequent) Mitigation Strategy Insufficient training data High Likely Data augmentation techniques will be applied to increase the dataset size. And with the use of transfer learning for image recognition to overcome this issue. Poor model accuracy Medium Likely Hyperparameter tuning and transfer learning will be used to improve model performance. Overfitting High Likely Regularization techniques such as dropout and cross-validation will be used to prevent overfitting. Hardware limitations Medium Rare Cloud platforms like AWS or Google Cloud will be used for additional computational power. High false- positive rate High Likely Model thresholds and feature selection techniques will be adjusted to balance sensitivity and specificity. Osteo-Vision Chapter 3: Methodology 37 Ravindu Y. Wijesekara | W1868299 Delays in model training Medium Likely Parallel processing and optimization of training code will be implemented to reduce training time. Stakeholder dissatisfaction Medium Likely Regular feedback sessions with stakeholders will be conducted to ensure alignment with requirements. Regulatory compliance issues High Rare All data will stick to ethical and privacy standards, ensuring compliance with medical data regulations. Losing ongoing development code Medium Rare Use GitHub and keep an external backup of the code. Lack of domain knowledge Medium Rare Seeking assistance from academic and domain specialists 3.5 Chapter Summary The chapter describes the methodological framework taken up during the development of the AI- based knee osteoporosis diagnosis system. The methodology of the research has revolved around the Saunders research onion, with experimental and quantitative data collection approaches. Development methodology regarding requirement elicitation, system design, model training, and testing was elaborated in detail. Identification of the scope, schedule, resources, and mitigation strategies to mitigate identified risks by the project management to accomplish the project has also been identified. Osteo-Vision Chapter 4: Software Requirement Specification 38 Ravindu Y. Wijesekara | W1868299 CHAPTER 4: SOFTWARE REQUIREMENT SPECIFICATION 4.1 Chapter Overview This chapter covers the software prerequisites for an AI-driven knee osteoporosis diagnosis system, including key stakeholders, development processes, and system-specific efforts. It also includes visual representations such as rich picture diagram, onion model and context diagram. It discusses methods for gathering insights and explains the system process using a use case diagram and descriptions. Lastly, it lists functional and non-functional requirements based on priority level. 4.2 Rich Picture Figure 4.1: Rich Picture Diagram Osteo-Vision Chapter 4: Software Requirement Specification 39 Ravindu Y. Wijesekara | W1868299 The rich picture diagram above (Figure 4.1) represents the overall system structure and process, connecting the various stakeholders of the proposed AI driven knee osteoporosis diagnosis system. 4.3 Stakeholder Analysis 4.3.1 Stakeholder Onion Model The below onion model (Figure 4.2) represents the layers of stakeholders with their interactions and engagement involved in the Osteo-Vision", "above (Figure 4.1) represents the overall system structure and process, connecting the various stakeholders of the proposed AI driven knee osteoporosis diagnosis system. 4.3 Stakeholder Analysis 4.3.1 Stakeholder Onion Model The below onion model (Figure 4.2) represents the layers of stakeholders with their interactions and engagement involved in the Osteo-Vision system. Figure 4.2: Onion Model Osteo-Vision Chapter 4: Software Requirement Specification 40 Ravindu Y. Wijesekara | W1868299 4.3.2 Stakeholder Viewpoints Table 4.1: Stakeholder Viewpoints Stakeholder Role Description Medical Student Normal User Can use the application to produce accurate and transparent knee osteoporosis diagnosis results Radiologist Functional Beneficiary & Normal User (Hybrid User) Rheumatologist Patient Social Beneficiary Will receive accurate and fast osteoporosis diagnosis results without any human errors. Product Owner Purchaser Manage and supervise the entire workflow Radiology Technician Operational Beneficiary Will provide the X-ray data needed to train the model for the system. Developer Service Provider Develops the system and improves and fixes errors. QA Engineer Consultant Provide feedback on quality aspects of the application. Competitors Negative Stakeholders Tries to replicate and improve the system. Domain Experts Advisor Evaluate and provide feedback to improve the system. Technical Experts Hospital Champion Improved diagnosis accuracy without human errors, reduced workload for radiologists. Government Regulator Regulates the system with laws to ensure patient safety standards. Hacker Negative Stakeholders Attempts to break into the system and steal data. Osteo-Vision Chapter 4: Software Requirement Specification 41 Ravindu Y. Wijesekara | W1868299 4.4 Selection of Requirement Elicitation Methodologies For this project, several methodologies will be used to gather requirements, chosen for their ability to collect relevant insights from stakeholders: Table 4.2: Requirement Elicitation Methodology Method 1: Literature review The literature review perspective contributes to collecting knowledge and wisdom from publications on artificial intelligence osteoporosis diagnosis, recognizing trends, missing evacuations, and successful methods. It helps you choose models, and benchmark performance and raises concerns such as the \u201cblack box\u201d nature of AI models. Method 2: Functional Beneficiary Interviews Interviews with domain experts like clinicians, radiologists, and medical students bring the practical, real-world requirements into perspective. It clarifies real-world clinical requirements, expectations, and workflows. This is to make the system clinically appropriate and user-friendly for healthcare professionals. Method 3: Consultant Interviews Interviews with technical experts and consultants about AI models, machine learning techniques, data pre-processing techniques, and explainable AI techniques will help to identify the technical aspect and path that should be followed through the implementation of this project. 4.5 Discussion of Findings 4.5.1 Literature Review Findings Table 4.3: Literature Review Findings Finding Citation The authors used two cutting-edge convolutional neural network architectures. ResNet50 and VGG16 in their system and refined them on a carefully selected dataset of X-ray pictures to classify osteoporosis or normal. And they achieved 96% accuracy by combining the above two models and using sophisticated image segmentation methods. (Jaman Shawon et al., 2024) Osteo-Vision Chapter 4: Software Requirement Specification 42 Ravindu Y. Wijesekara | W1868299 The authors attempted to classify osteoporosis using two pre-trained CNN models, GoogLeNet and VGG16. And they refined them", "achieved 96% accuracy by combining the above two models and using sophisticated image segmentation methods. (Jaman Shawon et al., 2024) Osteo-Vision Chapter 4: Software Requirement Specification 42 Ravindu Y. Wijesekara | W1868299 The authors attempted to classify osteoporosis using two pre-trained CNN models, GoogLeNet and VGG16. And they refined them on the knee osteoporosis dataset, and it was split into two subcategories: Grayscale images and RGB images. It took 42 mins and 50 minutes respectively to train using GoogLeNet model. And the VGG16 model took 37 mins and 44 mins to train Grayscale and RGB images, respectively. (Abubakar et al., 2022) In this study, the authors attempted to integrate AlexNet, VGG16, ResNet50, VGG19, InceptionNet, XceptionNet, and a custom CNN with a knee osteoporosis dataset. And they have used binary and multiclass classification. And they achieved 92.0% and 97.5 % accuracy for multiclass and binary separately using the VGG19 model. (Gobara et al., 2024) In this systematic review, the authors have gone through multiple research articles and studies on osteoporosis classification using radiograph imagery. And they have analyzed and pooled those into categories based on the accuracy, sensitivity, and specificity of osteoporosis classification. In the end, they mentioned challenges and limitations of the existing work and future work that should be included in the future, where they mentioned the importance of explainability in AI models in the medical domain. They have suggested to use of explainable AI techniques like SHAP, and LIME to make the AI models more transparent and interpretable. (Liu et al., 2024) In this study, the authors have used transfer learning of deep-learning-based CNNs like AlexNet, VGG16, ResNet to classify knee osteoporosis using x-ray images. And they achieved 91.1% accuracy using AlexNet architecture. And they suggested deep learning system with transfer learning can help clinicians to detect osteoporosis in its initial stages. (Wani and Arora, 2023) 4.5.2 Findings from Functional Beneficiary Interviews For the functional beneficiary interviews, rheumatologists, orthopedic surgeons, radiologists, and medical students are identified. Structured interviews with the experts identified above are carried out via Google Forms. Their opinion and insights will be considered during the system implementation. One orthopedic Surgeon and one rheumatologist from Colombo National Osteo-Vision Chapter 4: Software Requirement Specification 43 Ravindu Y. Wijesekara | W1868299 Hospital of SL and three medical students from the Faculty of Medicine, University of Colombo, who are currently completing their internships were interviewed. The responses were analyzed thematically based on specific themes. The complete set of questions and responses are attached in Appendix C.1. Table 4.4: Functional Beneficiary Interview Findings Code Theme Conclusion Detection of knee osteoporosis Identifies the challenges of diagnosing knee osteoporosis. Training the model to identify knee osteoporosis through X-ray imaging is important as it is one of the most reliable methods. Accuracy and speed should be considered because usually, doctors take up to 5-10 minutes to go through X-rays. Medical biomarkers and existing tools to detect knee osteoporosis. Identifies the important medical biomarkers and tools to diagnose knee osteoporosis. Responses from medical professionals", "it is one of the most reliable methods. Accuracy and speed should be considered because usually, doctors take up to 5-10 minutes to go through X-rays. Medical biomarkers and existing tools to detect knee osteoporosis. Identifies the important medical biomarkers and tools to diagnose knee osteoporosis. Responses from medical professionals suggest that among medical biomarkers and tools like DXA, X-rays, CT, MRI, QUS, X-rays are more reliable because it's more cost-efficient and widely available. Automation of knee osteoporosis detection Identifies the need for an automated or AI-based system to diagnose knee osteoporosis. The main concern from the medical professional about manual diagnosing was time and the human errors a manual system tends to pose. The responses suggested that in the process of automating the system, faster results and improved diagnostic accuracy with interpretability are needed to override the existing methods. Trust and interpretability of AI models Identifies the need for interpretable AI models in clinical decision-making. Responses from medical professionals suggested that one of the critical concerns about relying on existing AI models in clinical decision-making is trust and interpretability. Clear explanations of the AI decisions are important in order to adapt AI tools to clinical decision-making. Osteo-Vision Chapter 4: System Requirements Specification 44 Ravindu Y. Wijesekara | W1868299 4.5.3 Findings from Consultant Interviews Machine learning experts have been identified as consultants for interviews related to the osteo- vision system. This process involved conducting structured interviews with three machine learning experts knowledgeable in transfer learning and explainable AI techniques. Thematic analysis of the results of consultant interviews is shown below. The complete set of questions and responses are attached to Appendix C.2. Table 4.5: Consultant Interview Findings Code Theme Conclusion Medical image recognition Identifies the requirements for medical image recognition models. According to the experts, for robust performance, models should prioritize high accuracies. Data should be properly annotated to be used in a medical image recognition model. Medical image pre- processing Identifies the pre-processing techniques and potential libraries that can be used for implementation. Preprocessing methods like normalization, contrast enhancement, and noise reduction are crucial for clarity and model accuracy, And OpenCV and Scikit-Image were suggested for the libraries. Pre-trained CNNs for transfer learning Identifies the advantages of using transfer learning in medical imaging and the transfer learning models that are suitable for the implementation of the Osteo-vision system. Transfer learning with pre-trained CNNs accelerates development and enhances performance, particularly when data is scarce. ResNet, VGG19, and VGG16 were suggested by experts. Evaluation Techniques Identifies the suitable metrics for the performance evaluation of the Osteo- vison system. According to responses, metrics such as AUC, F1 score, and precision, recall are valuable, especially for handling imbalanced medical datasets. These metrics will provide a balanced view of model performance. Osteo-Vision Chapter 4: System Requirements Specification 45 Ravindu Y. Wijesekara | W1868299 Explainable AI Techniques Identifies the explainable AI techniques that are suitable for medical image explainability. Explainable AI methods like Grad- CAM, LIME, and SHAP allow visualization of the model's focus areas", "provide a balanced view of model performance. Osteo-Vision Chapter 4: System Requirements Specification 45 Ravindu Y. Wijesekara | W1868299 Explainable AI Techniques Identifies the explainable AI techniques that are suitable for medical image explainability. Explainable AI methods like Grad- CAM, LIME, and SHAP allow visualization of the model's focus areas making the AI models much more interpretable in medical imaging. 4.6 Summary of Findings Table 4.6: Summary of Findings Id Finding LR Interview (FB) Interview (Consultant) 1 Cutting-edge CNN architectures like ResNet50, VGG16, and VGG19 are effective for osteoporosis classification. \u2714 2 Transfer learning with CNN architectures like ResNet50, VGG16, and AlexNet improves model accuracy, especially with limited data. \u2714 \u2714 3 Ensemble models which combine multiple individual models tend to have better prediction accuracy compared to individual models. \u2714 4 Medical biomarkers and tools like DXA, X-rays, CT, and MRI are crucial in diagnosing knee osteoporosis, with X-rays being cost-efficient and widely available. \u2714 \u2714 5 Preprocessing techniques like normalization, contrast enhancement noise reduction, and libraries like OpenCV and Scikit-Image are essential for clarity and accuracy in medical image recognition. \u2714 \u2714 Osteo-Vision Chapter 4: System Requirements Specification 46 Ravindu Y. Wijesekara | W1868299 6 Explainable AI techniques like Grad-CAM, LIME, and SHAP are essential to build trust in AI models for clinical decision- making. \u2714 \u2714 7 Evaluation metrics like AUC, F1 score, and precision, recall are valuable for performance evaluation, especially for imbalanced datasets. \u2714 \u2714 8 Automation of osteoporosis detection can save time, reduce human error, and improve diagnostic accuracy with interpretability. \u2714 \u2714 9 Robust performance in medical image recognition requires high accuracy and well-annotated data. \u2714 \u2714 10 The high interpretability of AI models is essential for clinical adoption, as clinicians need clear explanations of AI decisions. \u2714 \u2714 4.7 Context Diagram Figure 4.3: Context Diagram Osteo-Vision Chapter 4: System Requirements Specification 47 Ravindu Y. Wijesekara | W1868299 4.8 Use Case Diagram Figure 4.4: Use Case Diagram 4.9 Use Case Descriptions Table 4.7: Use Case Description UC: 01 Use Case Generate Prediction Id UC:01 Description This allows the user to enter an X-ray image into the system and start pre- processing and generate diagnosis results Primary Actor User Supporting Actors None Stakeholders Radiologist, Rheumatologist, Medical Student Osteo-Vision Chapter 4: System Requirements Specification 48 Ravindu Y. Wijesekara | W1868299 Pre-condition The user should have uploaded the X-ray image to the system (UC:02) Post Condition Success End: Diagnosis results generated successfully. Trigger User action Main Flow Actor System 1. User selects images to upload 2. Accepts and stores the image in the database. 3. Starts the pre-processing. Alternate Flows Actor System 1. Cancels upload. 1. Discards the selected image. Included Use Cases None Table 4.8: Use Case Description UC: 05 Use Case View Diagnosis Results Id UC:05 Description Allows the user to view the diagnosis results generated from the X-ray image. Primary Actor User Supporting Actors None Stakeholders Radiologist, Rheumatologist, Medical Student Pre-condition Diagnosis results generated (UC:04). Post Condition Success End: User views diagnosis results. Trigger", "Case Description UC: 05 Use Case View Diagnosis Results Id UC:05 Description Allows the user to view the diagnosis results generated from the X-ray image. Primary Actor User Supporting Actors None Stakeholders Radiologist, Rheumatologist, Medical Student Pre-condition Diagnosis results generated (UC:04). Post Condition Success End: User views diagnosis results. Trigger User action Osteo-Vision Chapter 4: System Requirements Specification 49 Ravindu Y. Wijesekara | W1868299 Main Flow Actor System 1. User selects to view results. 6. Go to the generated Report view 7. Selects to download the report. 2. Checks for the percentage of the model. 3. Output the model results. 4. Output the interpretation results 5. Output the visualized data. Alternate Flows Actor System 1. User selects prediction history. 4. Can download the older report. 2. Extracts data from the database. 3. Produces the visualization. Included Use Cases UC:07, UC:08, UC:11 The rest of the use-case descriptions have been moved to the Appendix C.3. 4.10 Requirements 4.10.1 Functional Requirements The MoSCoW principle has been applied to effectively prioritize requirements according to their significance. This approach ensures that each requirement is addressed with the appropriate level of attention and urgency. Table 4.9: Functional Requirements ID Requirement Priority (MoSCoW) FR01 The user must be able to upload X-ray images to the system. M FR02 The system must be able to pre-process the X-ray images. M FR03 The system must detect knee osteoporosis from X-ray images with high accuracy. M Osteo-Vision Chapter 4: System Requirements Specification 50 Ravindu Y. Wijesekara | W1868299 FR04 The system must provide interpretable diagnostic reports M FR05 The system could allow medical professionals to view confidence levels (confidence matrix) for each diagnosis. C FR06 The system should provide historical records of patient diagnosis results for easy access and longitudinal analysis. S FR07 The user should be able to download diagnosis reports. S FR08 The system could allow medical professionals to annotate images and save these annotations for training purposes. C FR09 The system could integrate with external databases for additional data validation. C FR10 The system should have a user-friendly graphical user interface which is easier for doctors and radiologists to adopt. S FR11 The system will not support multi-modal data integration (e.g., combining X-ray, MRI, and CT scan data) for diagnosis. W FR12 The system will not include automated follow-up recommendations or treatment suggestions based on diagnosis results. W 4.10.2 Non-Functional Requirements Table 4.10: Non-Functional Requirements ID Requirement Priority (MoSCoW) NFR01 The system must process and analyze images within 5 seconds to ensure quick response times for radiologists. M NFR02 The system must ensure data encryption and privacy compliance (e.g., HIPAA or GDPR) for patient information and images M NFR03 The system should maintain an accuracy rate of at least 90%. S Osteo-Vision Chapter 4: System Requirements Specification 51 Ravindu Y. Wijesekara | W1868299 NFR04 The system could provide a dashboard with real-time monitoring of diagnostic results, and model confidence scores. C NFR05 The system will not support offline processing of diagnostic results; internet connectivity will be", "of at least 90%. S Osteo-Vision Chapter 4: System Requirements Specification 51 Ravindu Y. Wijesekara | W1868299 NFR04 The system could provide a dashboard with real-time monitoring of diagnostic results, and model confidence scores. C NFR05 The system will not support offline processing of diagnostic results; internet connectivity will be required. W 4.11 Chapter Summary This chapter outlined the need for a system, the viewpoints of stakeholders involved, and the methodologies used to gather these requirements. It consists of various diagrams that further help in getting an idea about how different systems interact and categorize functional and non- functional requirements based on the principle of MoSCoW. These requirements form the foundation for the development of the system by embedding everything related to making it a success. Osteo-Vision Chapter 5 : Social, Legal, Ethical & Professional Issues 52 Ravindu Y. Wijesekara | W1868299 CHAPTER 5: SOCIAL, LEGAL, ETHICAL, AND PROFESSIONAL ISSUES 5.1 Chapter Overview This chapter highlights the social, legal, ethical, and professional aspects of developing and deploying the Osteo-vision system, ensuring alignment with the BCS code of conduct. 5.2 SLEP Issues & Mitigations Table 5.1: SLEP issues and mitigations Social Issues Legal Issues \u2022 All the interview responses collected via Google Forms were not included directly in the thesis to protect personal opinions. Instead, thematic analyses of the findings were placed in the appendix. \u2022 This project strictly uses open-source tools, programming languages, and frameworks with proper licensing. \u2022 All the data sources used in this research are publicly available free of charge. The system will not collect or store any private data of the users. \u2022 Source code is publicly available on GitHub and will be licensed under GPL3 license. Ethical Issues Professional Issues \u2022 Domain and technical experts were informed about the project and how their feedback would be used in the research. \u2022 This dissertation follows academic integrity guidelines, contains no plagiarism, and appropriately cites all sources and datasets. \u2022 This study strictly followed industry and academic guidelines, maintaining professionalism throughout the project. \u2022 Research ethics and best practices were upheld to ensure the study's reliability and integrity. 5.3 Chapter Summary This chapter explains the possible SLEP of the BSC code of conduct and how they were mitigated. Osteo-Vision Chapter 6: Design 53 Ravindu Y. Wijesekara | W1868299 CHAPTER 6 : DESIGN 6.1 Chapter Overview This chapter outlines the blueprint for building Osteo-vision knee osteoporotic diagnostic system based on the gathered requirements. This chapter covers the design goals, system architecture diagram, data flow diagrams, algorithm design, user interface, and workflows, ensuring that the system meets functional and non-functional requirements. 6.2 Design Goals Table 6.1: Design Goals Quality Attribute Description Correctness The prediction accuracy of Osteo-vision should get the highest and best prediction accuracy. This is done by tuning and training well-architecture pre- trained models like VGG-19 and EfficientNetB7 according to the nature of transfer learning on well-annotated and well-structured datasets and using explainability methods like Grad-CAM for model reasoning validation. Modularity The modular system architecture further separates", "the highest and best prediction accuracy. This is done by tuning and training well-architecture pre- trained models like VGG-19 and EfficientNetB7 according to the nature of transfer learning on well-annotated and well-structured datasets and using explainability methods like Grad-CAM for model reasoning validation. Modularity The modular system architecture further separates different components of data preprocessing, training, and prediction, with XAI visualization. This would enable every module to be developed, tested, and updated independently without interfering with other modules, hence allowing for easy maintenance and enhancements in the future. Scalability This architecture considers scalability through its integration by supporting additional trained models, and new diagnostic features. It will have modular components such as data preprocessing, training, and visualization to help it scale with the increase in volume and users. Flexibility The architecture is also designed to be flexible, so it can be easily deployed on different platforms, including any device or OS. This will be achieved by Osteo-Vision Chapter 6: Design 54 Ravindu Y. Wijesekara | W1868299 containerization of the application, using cross-platform frameworks, cloud- based deployment. Reusability This system is designed based on modular and compartmentalized design principles, which enable the reuse of components for other diagnostic tasks or medical imaging projects, including prediction engine, and XAI visualization. This will make the system long-lived and more valuable. 6.3 System Architecture Design 6.3.1 System Architecture Diagram Below Diagram visualizes the architecture of the Osteo-vision system. Figure 6.1: System Architecture Diagram Osteo-Vision Chapter 6: Design 55 Ravindu Y. Wijesekara | W1868299 6.3.2 Layers of Architecture As Illustrated in the above figure, Osteo-vision AI system is designed based on the three-tier architecture including the presentation layer, the business logic layer, and the data layer. This three-layer architecture ensures modularity, scalability and flexibility to the system and it allows future enhancements through integration of additional microservices. 6.3.2.1 Presentation Tier The Presentation tier includes the UI components, and it allows the users to interact with the system. \u2022 X-ray upload Wizard - This component allows the users (doctors, radiologists, medical students) to upload the images of knee x-rays required for the osteoporosis detection. \u2022 Predictions Wizard - After uploading the images, users can request an osteoporosis prediction. The system will analyze the uploaded image input and return diagnosis results. \u2022 Download Prediction Report - Users can generate a medical report containing the prediction results and the system will allow the users to download the report. \u2022 Prediction History View \u2013 The system will enable the users to view the prediction history to track past predictions. 6.3.2.2 Logic Tier The Logic tier is responsible for processing input data, running machine learning models and generating predictions. \u2022 Data Preprocessing Module \u2013 Before X-ray images are analyzed by the model, they go through several pre-processing steps to improve the accuracy of the prediction. 1. Image Processing \u2013 In this process, input images are standardizes by resizing them, cropping unnecessary parts, and normalizing pixel values to match the expected model input. 2. Feature Extraction \u2013 Key features that is", "the model, they go through several pre-processing steps to improve the accuracy of the prediction. 1. Image Processing \u2013 In this process, input images are standardizes by resizing them, cropping unnecessary parts, and normalizing pixel values to match the expected model input. 2. Feature Extraction \u2013 Key features that is used to identify the bone density and the structural patterns related to osteoporosis will be extracted. \u2022 Prediction Module -This is the core module of the system which is responsible for the knee osteoporosis detection based on the processed x-ray images. It consists of: Osteo-Vision Chapter 6: Design 56 Ravindu Y. Wijesekara | W1868299 1. X-ray Imagery Node- A deep learning model trained to detect osteoporotic features in knee x-ray images. It includes these sub processes: \u25aa Convolution Filtering \u25aa Pooling \u25aa Feature Extraction \u25aa Regularization \u25aa Learning Rate Scheduling 2. XAI (Explainable AI) Node \u2013 Provides explainability for the model\u2019s predictions using: \u25aa Grad-CAM Visualization- Highlights the key areas in the X-ray image that contributed to the diagnosis, helping medical professionals to interpret the predictions. 3. Concatenation \u2013 Combines the features of several nodes to make a final prediction and it\u2019s followed by a classification layer to determine the severity level of osteoporosis. \u2022 API gateway \u2013 The API Gateway acts as an intermediary that routes user queries to relevant logical modules. It handles API requests for operations such as uploads, prediction, and report retrieval, and enables secure and effective data transmission between the system's front-end and back-end. \u2022 Data Visualization Module- This module is responsible for visualizing the results of osteoporosis predictions through: \u25aa Graphical representations of bone health assessments. \u25aa Heatmap overlays on X-ray images using Grad-CAM. \u25aa Tabular reports detailing prediction scores and medical risk factors. 6.3.3 Data Tier The Data Tier is responsible for storing and managing all datasets and user history. It consists of: \u2022 Dataset Repository \u2013 Contains the datasets used for the development of AI model including training and validation datasets. \u25aa Mendeley Dataset \u2013 A publicly available dataset containing labelled X-ray images for knee-osteoporosis detection. Osteo-Vision Chapter 6: Design 57 Ravindu Y. Wijesekara | W1868299 \u25aa Kaggle Dataset \u2013 A publicly available dataset in the Kaggle website containing labelled X-ray images for knee-osteoporosis detection \u2022 User X-ray database \u2013 The user-uploaded knee x-ray images will be stored for future analysis. Users can access their past uploads and predictions results. \u2022 User History Database \u2013 Keeps track of all past predictions and report downloads for the users. This feature enables doctors to view the progress of patients over time. 6.4 Detailed Design 6.4.1 Choice of Design Paradigm Based on the requirements of Osteo-Vision AI, the author chose Structured System Analysis and Design Method (SSADM) over Object Oriented Analysis and Design Method (OOADM) as the design paradigm for this research. There were a couple of reasons that influenced such a decision, which are outlined below: \u2022 The primary aim of the research was to propose a machine learning based diagnostic system based on", "Method (SSADM) over Object Oriented Analysis and Design Method (OOADM) as the design paradigm for this research. There were a couple of reasons that influenced such a decision, which are outlined below: \u2022 The primary aim of the research was to propose a machine learning based diagnostic system based on the structured data processing rather than object- oriented modeling. \u2022 Given the time available for research SSADM will be easier to follow through and more systematic than object-oriented modeling. \u2022 The system primarily involves image processing, feature extraction and structured data flow, making SSADM a suitable choice for defining data transformations and structure procedure. \u2022 By adopting SSADM, the process would remain structured, efficient and scalable, aligning to the needs of Osteo-vison AI system. Osteo-Vision Chapter 6: Design 58 Ravindu Y. Wijesekara | W1868299 6.4.2 Data flow diagrams 6.4.2.1 Level One Data-Flow Diagram Figure 6.2: Level One Data-Flow Diagram (self-composed) The level one data flow diagram represented above as Figure 6.2 illustrates a detailed breakdown of the core components of the system showing how they interact with each other to meet the functional requirements of the system 4.10.1. The following Figure 6.3 demonstrates 6.4.2.2 Level Two Data-Flow Diagrams Figure 6.3: Level Two Data-Flow Diagram (self-composed) Osteo-Vision Chapter 6: Design 59 Ravindu Y. Wijesekara | W1868299 6.5 Algorithm Design The algorithmic structure of the proposed knee osteoporosis diagnosis system is constructed on convolutional neural networks (CNNs) that have been optimized for binary and multiclass classification. Two well established architectures, VGG19 and EfficientNetB4, were implemented and fine-tuned to for this task. In addition, an ensemble model that combined the two architectures was implemented to check whether the merging of predictions would enhance classification accuracy. The layers within every model were structured to achieve the highest performance while minimizing overfitting and further enhanced using appropriate regularization techniques. 6.5.1 VGG19 Architecture Design The VGG19 architecture, which is simple yet deep, was selected as a baseline due to its success in medical image analysis. It was imported with pre-trained ImageNet weights to utilize generalized feature representations from large-scale data. To make VGG19 suitable for binary classification (Osteoporosis or Healthy), the top layers were removed, and new custom layers were added to classify. VGG19's initial convolutional blocks, the feature extractor component, were kept frozen during the training to preserve the generalized feature maps. Two convolutional layers of 64 filters and ReLU activation, followed by a MaxPooling2D layer, were added on top by the author to reduce the spatial dimensions. The output was flattened and fed into two dense layers with 4096 neurons in each. Dropout layers of rate 0.5 were applied after these layers to avoid overfitting. 6.5.2 EfficientNetB4 Architecture Design The EfficientNetB4 model emerged as a substitute with better accuracy and efficiency. EfficientNet models utilize a strategy called compound scaling, in which the width, depth, and resolution of the network are all scaled up equally. This gives a compact but effective design that can work for high-resolution medical images. The base model EfficientNetB4 was initialized", "a substitute with better accuracy and efficiency. EfficientNet models utilize a strategy called compound scaling, in which the width, depth, and resolution of the network are all scaled up equally. This gives a compact but effective design that can work for high-resolution medical images. The base model EfficientNetB4 was initialized with ImageNet weights and without top classification layers. The custom classification head was added on top of the feature extractor with the following flow: \u2022 Global Average Pooling Layer to reduce the spatial dimensions. Osteo-Vision Chapter 6: Design 60 Ravindu Y. Wijesekara | W1868299 \u2022 Batch Normalization to stabilize and accelerate training. \u2022 Three highly Dense layers with Batch Normalization and Dropout layers with rates 0.5, 0.4, and 0.3 respectively. \u2022 The output layer at the end utilized SoftMax activation with 2 neurons. To prevent overfitting, L2 regularization was applied to every dense layer. Moreover, training was performed in two steps: initially, training only the top layers with the bottom layers remaining frozen; and in the second step, the final 50 layers of EfficientNetB4 were unfrozen and fine-tuned with a reduced learning rate. This process made the model learn knee X-ray patterns better. 6.5.3 Ensemble Model Design The ensemble model was built with the objective of merging the strengths of both EfficientNetB4 and VGG19. The rationale behind doing this was to leverage the power of VGG19 in learning features and the optimized scaled power of EfficientNet. Both models were trained and tested separately on the same dataset employing image generators with appropriate preprocessing methods. Their predictions were then combined using weighted soft voting, 60% weight for VGG19 and 40% weight for EfficientNet, based on their separate validation performance. 6.6 UI Design The author has choose to implement the Osteo-vision system as a web-based application, enabling accessibility across multiple devices, such as desktop, tablets, and mobile phones. A web-based approach ensures: \u2022 Cross-platform compatibility (Windows, macOS, Linux, etc.). \u2022 Ease of deployment and updates. \u2022 Remote access for medical professionals. Usability Considerations Usability plays a crucial role in the effectiveness of the Osteo-vision system. The UI design follows best practices to ensure the best efficiency for the medical professionals. The following are the usability considerations taken into the matter when implementing Osteo-vision system. \u2022 Simple Navigation. \u2022 Minimalist Design. Osteo-Vision Chapter 6: Design 61 Ravindu Y. Wijesekara | W1868299 \u2022 Consistent Design Language. \u2022 Intuitive Image Upload & Processing. The low-fidelity wireframes designed to assist the development process can be found in Appendix D.1. 6.7 System Process Workflow The diagram below demonstrates the entire system process workflow of Osteo-vision system. Figure 6.4: System Process Workflow Diagram Osteo-Vision Chapter 6: Design 62 Ravindu Y. Wijesekara | W1868299 6.8 Chapter Summary This chapter describes the Osteo-Vision system\u2019s design phase, with a focus on modularity, scalability, and usability. The system's architecture is represented through a three-tier design, describing the interactions of the presentation, business logic, and data layer. Data flow diagrams represent system components, and algorithm design covers AI models, preprocessing, and classification techniques.", "describes the Osteo-Vision system\u2019s design phase, with a focus on modularity, scalability, and usability. The system's architecture is represented through a three-tier design, describing the interactions of the presentation, business logic, and data layer. Data flow diagrams represent system components, and algorithm design covers AI models, preprocessing, and classification techniques. User Interface design is optimized for medical professionals' usability, and the workflow describes the overall process, beginning to end. This systemic design model effectively guides the implementation stage. Osteo-Vision Chapter 7: Implementation 63 Ravindu Y. Wijesekara | W1868299 CHAPTER 7 : IMPLEMENTATION 7.1 Chapter Overview This chapter provides an overview of the implementation phase of the Osteo-vision system which transforms the system design into fully functional AI-based knee osteoporosis diagnosis system. All the technologies used, system development, integration of core functionalities, UI implementation and challenges faced during the process are described in this chapter. It connects the previous design phase in chapter six and prepares for testing and evaluation in the next chapter. 7.2 Technology Selection 7.2.1 Technology Stack Figure 7.1: Technology Stack Osteo-Vision Chapter 7: Implementation 64 Ravindu Y. Wijesekara | W1868299 7.2.2 Selection of data The Osteo-vision AI model is trained using the publicly datasets from Kaggle and Mendeley, ensuring a high-quality and diverse collection of knee x-ray images for osteoporosis detection. These datasets were selected based on the data availability, quality and the relevance to the knee osteoporosis detection. And these x-ray image data were properly labeled for the optimal performance. 7.2.3 Selection of programming languages The selected programming languages and their alternatives and the justifications are provided in the table below. Table 7.1 : Justification of the Selection of Programming Languages Programming Language Justification Alternatives Considered Reason for choosing over alternatives Python Widely used for machine learning and deep learning with strong libraries like TensorFlow, Keras and Scikit- learn. And it will be the best choice for Osteo-vision. R Python offers better integration with deep learning libraries and broader community support. JavaScript Most popular and the most widely available choice. And JavaScript offers better dynamic UI behavior for interactive web applications. PHP JavaScript is lightweight, widely supported and seamlessly integrates with UI frameworks like Next.js and React.js Osteo-Vision Chapter 7: Implementation 65 Ravindu Y. Wijesekara | W1868299 7.2.4 Selection of Development Frameworks The selection of development frameworks was based on factors such as performance, ease of use and scalability. The selected frameworks and justifications are provided in the table below. Table 7.2: Justification for the Selection of Development Frameworks Development Framework Justification Alternatives Considered Reason for choosing over alternatives TensorFlow TensorFlow provides robust deep learning capabilities for training the osteoporosis detection model. PyTorch TensorFlow has better deployment support and works well with web applications. FastAPI FastAPI is a modern Python web framework optimized for high performance, and it is the best option for osteo- vision ML model deployment Flask, Django FastAPI provides better performance and asynchronous support. And it has simple and interactive API documentation. 7.2.5 Libraries Table 7.3: Justification for the Selection of Libraries Library", "is a modern Python web framework optimized for high performance, and it is the best option for osteo- vision ML model deployment Flask, Django FastAPI provides better performance and asynchronous support. And it has simple and interactive API documentation. 7.2.5 Libraries Table 7.3: Justification for the Selection of Libraries Library Justification NumPy Used for numerical computations. Provides efficient array operations crucial for matrix manipulations in ML models. Pandas Used for handling structured data. Supports data cleaning, transformation and statistical analysis. OpenCV Used for image pre-processing tasks. Supports image augmentation, enhancement and transformation tasks. Matplotlib Essential for static visualizations like histograms and line graphs and scatter plots. Osteo-Vision Chapter 7: Implementation 66 Ravindu Y. Wijesekara | W1868299 7.2.6 Selection of User Interface (UI) Framework Table 7.4: Justification for the Selection of UI framework UI Framework Justification Alternatives Considered Reason for choosing over alternatives Next.js Next.js is a React-based framework that offers server- side rendering (SSR) for improved performance. Angular Provides better static and dynamic rendering efficiently Tailwind CSS A utility-first CSS framework that provides flexibility for custom UI designs. Material UI Allow better customization and reduce unused CSS, improving performance. 7.2.7 Selection of Integrated Development Environment (IDE) Table 7.5: Justification for the Selection of IDE IDE Justification PyCharm Provides advanced debugging, intelligent code completion and version control features for python-based development. Used for model training and back-end server development. Vs Code Lightweight and extensible. Used for the JavaScript based front-end development. Google Colab Cloud-based environment for model training with free GPU support. Used to train and test models. 7.2.8 Summary of Chosen Tools & Technologies Table 7.6: Summary of Chosen Tools & Technologies Category Selected Tools and Technologies Programming Languages Python, JavaScript UI Frameworks Next.js, Tailwind CSS Osteo-Vision Chapter 7: Implementation 67 Ravindu Y. Wijesekara | W1868299 Development Frameworks TensorFlow, FastAPI Libraries NumPy, Pandas, Matplotlib, OpenCV Development IDEs PyCharm, Vs Code, Google Colab Version Controlling GitHub, Git 7.3 Core Functionalities Implementation 7.3.1 Implementation of Deep Learning Model for Binary Classification For the deep learning model, transfer learning-based approach has been taken. Instead of building the model from scratch, pre-trained models like VGG-19 and EfficientNetB4 have fine-tuned to meet the requirements of this system. These pre-trained models are trained on very large datasets and have powerful feature extraction capabilities. In the below VGG-19 model code, pre-trained layers were frozen to retain learned features from ImageNet while new layers were added for osteoporosis classification. Figure 7.2: VGG-19 Binary Classification Training Module Code In the above code additional convolutional layers are added to refine the extracted features and adapt them to osteoporosis detection. Two 64-filter convolutional layers with 3x3 kernel size use the ReLU activation to capture the important spatial patterns. A max pooling layer reduces the computational complexity by down sampling the feature maps. Osteo-Vision Chapter 7: Implementation 68 Ravindu Y. Wijesekara | W1868299 EfficientNetB4 model follows the same structure. Same as VGG-19, top layers are trained while the backbone remains frozen. Input image size is resized to match the EfficientNet Architecture. L2", "layer reduces the computational complexity by down sampling the feature maps. Osteo-Vision Chapter 7: Implementation 68 Ravindu Y. Wijesekara | W1868299 EfficientNetB4 model follows the same structure. Same as VGG-19, top layers are trained while the backbone remains frozen. Input image size is resized to match the EfficientNet Architecture. L2 regularization, batch normalization and dropout layers help to prevent overfitting of the model and improve generalization. Figure 7.3: EfficientNetB4 Binary Classification Training Module Code 7.3.2 Implementation of Ensemble Model for Binary Classification As mentioned in the design chapter, an ensemble approach was taken to improve the performance and the accuracy of the binary classification process, by combining the predictions of above two trained models. The ensemble technique used was a weighted soft voting method, where the ultimate prediction probabilities were obtained by taking a weighted average of the individual model's output, applying a weight of 0.6 to VGG19 and 0.4 to EfficientNetB4. The choice of weighting percentage was taken aiming to leverage VGG19's generalization ability while complementing it with EfficientNetB4's depth and efficiency. Figure 7.4: Implementation of the Ensemble Model (Soft Voting) Osteo-Vision Chapter 7: Implementation 69 Ravindu Y. Wijesekara | W1868299 7.3.3 Implementation of Deep Learning Model for Multiclass Classification To further improve the diagnostic capabilities of the Osteo-vision system, a multiclass model using VGG-19 was implemented. This model was set to distinguish between three classes: \u201cHealthy\u201d, \u201cOsteopenia\u201d, and \u201cOsteoporosis\u201d offering a more specific diagnosis of bone health from X-ray images. Figure 7.5: VGG-19 Multiclass Classification Training Module Code 7.3.4 Implementation of Grad-CAM Module Grad-CAM has been the best choice for improving interpretability of the predictions. It highlights the regions of an X-ray image that influenced the model\u2019s decision. Grad-CAM generates a heatmap overlay that reveals the areas of knee x-ray contributed most to the prediction. OpenCV and Matplotlib have been used to blend this heatmap with the original image offering more interpretability and it ensures that predictions are not merely black-box outputs. Figure 7.6: Grad-CAM Module Code Osteo-Vision Chapter 7: Implementation 70 Ravindu Y. Wijesekara | W1868299 Rest of the implementation code snippets for the model and the back-end end points are placed under Appendix E.1. 7.4 User Interface Implementation Simple minimalistic UI was implemented as it should be easy to use for medical professionals. The UI of the \u2018Home\u2019 page is illustrated below in the Figure 7.8. Rest of the UI implantation screenshots are placed under Appendix E.2. Figure 7.7: Home Page with Prediction Results 7.5 Chapter Summary This chapter outlined the implementation of the Osteo-vision AI system, including tools and technologies used to implement the system and a detailed explanation of the core features are added for both binary and multiclass models including code snippets for each modules. Osteo-Vision Chapter 8: Testing 71 Ravindu Y. Wijesekara | W1868299 CHAPTER 8 : TESTING 8.1 Chapter Overview This chapter aims to discuss the testing phase of the Osteo-vision AI system. It includes functional, non-functional, and model testing processes to ensure the system meets its requirements. This ensures the", "each modules. Osteo-Vision Chapter 8: Testing 71 Ravindu Y. Wijesekara | W1868299 CHAPTER 8 : TESTING 8.1 Chapter Overview This chapter aims to discuss the testing phase of the Osteo-vision AI system. It includes functional, non-functional, and model testing processes to ensure the system meets its requirements. This ensures the model is reliable for clinical applications by validating the performance and reliability of the model using parameters like accuracy, efficiency, usability, and robustness. Finally, limitations of the testing process and the discussion of testing results have been acknowledged. 8.2 Objectives and Goals of Testing The primary focus of testing the Osteo-Vision AI Knee Osteoporosis Detection System is to guarantee it provides accuracy, reliability, and robustness in the diagnosis of osteoporosis using X- ray images. Testing will be a very important phase in verifying that the system meets the functional and non-functional requirements for efficiency in real-world scenarios. The following expectations were set down as requirements: \u2022 Ensure model accuracy and performance. \u2022 Validate functional requirements are met. \u2022 Validate non-functional requirements. \u2022 Identify bottlenecks, biases and areas for improvement of the model. \u2022 Testing usability and accessibility of the user interface. 8.3 Testing Criteria The Osteo-vision system is evaluated using functional and non-functional testing along with the evaluation of machine learning models to test its performance. \u2022 Functional Testing: Ensures the system meets the functional requirements identified in the requirement elicitation stage. \u2022 Non-functional Testing: Ensures the system meets the non-functional requirements identified in the requirement elicitation stage. \u2022 Model Performance Metrics: Includes model accuracy, precision, recall, F1-score, and confusion matrices to assess classification effectiveness. Osteo-Vision Chapter 8: Testing 72 Ravindu Y. Wijesekara | W1868299 8.4 Model Testing The author has conducted multiple standard classification metrics for the machine learning model. These metrics provide insights into how well model will identify knee osteoporosis minimizing misclassifications. Accuracy, precision, recall and F1-score were selected as the metrics to evaluate the models. Three different individual CNN-based models and the binary ensemble model which combines VGG19 and EfficientNetB4 models, were tested in the process. Each model was trained on the same augmented knee x-ray dataset. 8.4.1 Confusion matrix Confusion matrix is used by the author to critically analyze and get a comprehensive overview of each model\u2019s performance across classes and the classification errors. Here below is the confusion matrix of the binary ensemble model. The rest of the confusion matrices are attached to Appendix section F.1. Figure 8.1: Confusion matrix for Binary Ensemble Model 8.4.2 Accuracy In this study, accuracy is one of the major and most important metric for assessing the overall performance of classification models in knee osteoporosis predication from x-rays. Three models have been tested, and accuracy was measured to determine how well the models were classifying positive and negative cases correctly. Ensemble binary model which combined binary VGG19 model and the binary EfficientNetnB4 model using soft voting achieved the highest accuracy. Osteo-Vision Chapter 8: Testing 73 Ravindu Y. Wijesekara | W1868299 Multiclass VGG19 model was comparatively less accurate because of", "how well the models were classifying positive and negative cases correctly. Ensemble binary model which combined binary VGG19 model and the binary EfficientNetnB4 model using soft voting achieved the highest accuracy. Osteo-Vision Chapter 8: Testing 73 Ravindu Y. Wijesekara | W1868299 Multiclass VGG19 model was comparatively less accurate because of the increased complexity in differentiating three stages. And Osteopenia dataset had less images compared to other two classes. As a result, author had to augment the Osteopenia dataset. Table 8.1 below shows the accuracy and the model configuration comparison of the models. Table 8.1: Accuracy comparison Model Epochs Batch Size Learning Rate Accuracy VGG19 binary classification model 20 16 0.001 97.15% EfficientNetB4 binary classification model 40 12 0.001 87.28% VGG19 multiclass classification model 20 16 0.001 83.25% Model Composition Accuracy Ensemble binary classification model VGG19 binary (best model) + EfficientNetB4 binary (best model) 98.52% 8.4.3 Precision Precision is another critical metric to be considered in this study as it measures how accurately the models identify actual cases of osteoporosis without mislabeling the healthy ones. High precision means, models\u2019 predictions on positive results are highly likely to be accurate. The ensemble binary model registered a high rate of precision demonstrating its robustness in confirming actual positive cases. Table 8.2 below demonstrates the comparison of precision of models. Table 8.2: Precision Comparison Model Precision VGG19 binary classification model 0.97 EfficientNetB4 binary classification model 0.87 VGG19 multiclass classification model 0.85 Ensemble binary classification model 0.99 8.4.4 Recall Recall is a vital metric to this study as failing to detect true osteoporosis cases is critical in real- world situations. The author made multiple attempts to improve the recall value by tuning hyper- Osteo-Vision Chapter 8: Testing 74 Ravindu Y. Wijesekara | W1868299 parameters. Recall in the VGG19 multiclass model was not well balanced between the three classes, as the model would get Osteopenia and Osteoporosis mixed up due to similar radiological features, requiring better class separation through means of extra data augmentation or fine- tuning. Table 8.3 below is a detailed summary of recall values of models. Table 8.3: Recall Value Comparison Model Recall VGG19 binary classification model 0.97 EfficientNetB4 binary classification model 0.87 VGG19 multiclass classification model 0.84 Ensemble binary classification model 0.99 8.4.5 F1 Score The F1 score provides a balanced measure of precision and recall, providing a general indication of the model\u2019s performance in clinical decision-making. The F1 score is especially useful in this research for the model comparison in imbalanced class distributions. The best F1-score was achieved by the ensemble binary classifier, further confirming its capability to detect osteoporosis cases accurately and reliably. Table 8.4 below is a comparison of the F1 scores of the models. Model F1-Score VGG19 binary classification model 0.97 EfficientNetB4 binary classification model 0.87 VGG19 multiclass classification model 0.84 Ensemble binary classification model 0.99 Other model testing statistics, such as training and validation loss curves and AUC/ROC curves, are attached to the Appendix F.1. Beyond these standard evaluation metrics, some other robustness was tested to evaluate", "classification model 0.97 EfficientNetB4 binary classification model 0.87 VGG19 multiclass classification model 0.84 Ensemble binary classification model 0.99 Other model testing statistics, such as training and validation loss curves and AUC/ROC curves, are attached to the Appendix F.1. Beyond these standard evaluation metrics, some other robustness was tested to evaluate the model\u2019s readability in challenging conditions that may arise in real-world scenarios. Osteo-Vision Chapter 8: Testing 75 Ravindu Y. Wijesekara | W1868299 \u2022 Low-resolution Images: The model was evaluated with low-resolution X-ray images to evaluate its ability to extract meaningful features under lower quality. \u2022 Testing with Different Contrast and Noise Levels: The model was tested with X-ray images of different contrast levels and added noise to check its consistency in prediction. 8.5 Benchmarking Table 8.4: Benchmarking results Research Model Architecture Accuracy % Precision % Recall % F1-Score % Proposed Osteo-vision system Ensemble Binary 98.25 99 99 99 VGG-19 Binary 97.03 97 97 97 VGG-19 Multiclass 84 85 84 84 EfficientNet Binary 87 87 87 87 Gobara et. al 2024 VGG-19 Binary 97.5 97 97 97 VGG-16 Binary 90.4 90 90 90 ResNet 81.4 82 81 81 InceptionNet 89.7 90 90 90 Kumar et al.,2023 InceptionNet 89.8 N/A N/A N/A ResNet 91.4 N/A N/A N/A Abubakar et al., 2022 GoogLeNet 90 N/A N/A N/A VGG-16 87 N/A N/A N/A Wani & Arora, 2022 VGG-19 84.20 N/A N/A N/A AlexNet 91.0 N/A N/A N/A Osteo-Vision Chapter 8: Testing 76 Ravindu Y. Wijesekara | W1868299 8.6 Functional Testing Functional testing will evaluate each of the functional requirements identified in the requirement elicitation stage. Table 8.5: Functional Testing Test Case FR- ID User Action Expected Result Actual Result Status 1 FR01 The user must be able to upload X-ray images to the system. X-ray images must be accepted by the system. X-ray image is accepted to the system. Pass 2 FR02 The system must be able to pre-process the X-ray images. X-ray image must go through the pre- processing stage. X-ray image goes through the pre- processing stage. Pass 3 FR03 The system must detect knee osteoporosis from X-ray images with high accuracy. The system detects knee osteoporosis with higher accuracy. The system detected knee osteoporosis with higher accuracy, and the output is shown. Pass 4 FR04 The system must provide interpretable diagnostic reports. The system provides a Grad- CAM heatmap included report. The system provided a Grad-CAM heatmap for better interpretability. Pass 5 FR05 The system could allow medical professionals to view confidence levels (confidence matrix) for each diagnosis. The system shows the confidence level of the prediction. The system displayed the confidence level. Pass Osteo-Vision Chapter 8: Testing 77 Ravindu Y. Wijesekara | W1868299 6 FR06 The system should provide historical records of patient diagnosis results for easy access and longitudinal analysis. The system shows the diagnosis history of the patients. The system displays the diagnosis history with the download option. Pass 7 FR07 The user should be able to download diagnosis reports. Users can download diagnosis reports. Users can download", "records of patient diagnosis results for easy access and longitudinal analysis. The system shows the diagnosis history of the patients. The system displays the diagnosis history with the download option. Pass 7 FR07 The user should be able to download diagnosis reports. Users can download diagnosis reports. Users can download both current reports and previous reports. Pass 8 FR08 The system could allow medical professionals to annotate images and save these annotations for training purposes. The user can annotate the x-ray image with the results. Not implemented. N/A 9 FR09 The system could allow for integration with external radiology databases for additional data validation. The System allows integration of additional databases for data validation. The system validates knee X-rays using an external radiology database. Pass 10 FR10 The system should have a user-friendly graphical user interface. The system has a user-friendly GUI for medical professionals. The system has an easy-to-use and user- friendly UI for medical professionals. Pass Osteo-Vision Chapter 8: Testing 78 Ravindu Y. Wijesekara | W1868299 8.7 Module and Integration Testing Table 8.6: Module and Integration Testing Module Input Expected Outcome Actual Results Status Upload X-ray X-ray images The system accepts the X-ray image and uploads it to the backend server The system accepted the image file and uploaded it to the backend server Pass X-ray Image Pre-processing X-ray images Returns pre-processed backend image Returned pre-processed backend image Pass Prediction Pre-processed X-ray images Returns the prediction results with XAI output and confidence score Returned the prediction with XAI output and the confident score Pass 8.8 Non-Functional Testing Non-functional testing outlines the assessment of the non-functional requirements identified in the requirement elicitation stage. The breakdown of non-functional requirements and the is available in the Appendix E.2. 8.9 Limitations of Testing Process Although extensive testing was carried out, various limitations and challenges impacted the overall evaluation process. A significant limitation was the challenge of acquiring labeled datasets for testing. The model needed unseen, labeled X-ray images for validation. However, these data sets were difficult to acquire because of the limitations of publicly available labeled medical data. Without a vast number of unseen test examples, it was uncertain how the model would generalize to real-world applications. Also, the evaluation of the system was done on only one device, thus restricting the comparison of its performance across various hardware setups. Factors such as processing power, availability of GPUs, and hardware acceleration could potentially influence both the speed of Osteo-Vision Chapter 8: Testing 79 Ravindu Y. Wijesekara | W1868299 inference and accuracy; however, these factors were not investigated owing to restricted test resources. 8.10 Chapter Summary This chapter outlined the testing phase of the Osteo-vision system, ensuring the system met functional, non-functional, and model testing. It covered objectives of testing, testing criteria, and benchmarking. Finally, limitations of the testing process were included. Overall, the results demonstrated the system\u2019s effectiveness, usability, and robustness. Osteo-Vision Chapter 9: Evaluation 80 Ravindu Y. Wijesekara | W1868299 CHAPTER 9 : EVALUATION 9.1 Chapter Overview This chapter outlines the", "model testing. It covered objectives of testing, testing criteria, and benchmarking. Finally, limitations of the testing process were included. Overall, the results demonstrated the system\u2019s effectiveness, usability, and robustness. Osteo-Vision Chapter 9: Evaluation 80 Ravindu Y. Wijesekara | W1868299 CHAPTER 9 : EVALUATION 9.1 Chapter Overview This chapter outlines the evaluation plan employed to assess the overall effectiveness and the performance of the implemented minimum viable product of the Osteo-Vision system. The product was assessed according to the requirements identified in the requirement elicitation stage. This chapter includes self-evaluation, feedback from technical and domain experts, and user-based prototype testing. 9.2 Evaluation Methodology and Approach To evaluate the Osteo-Vision system, a flexible structured approach was utilized, considering the time constraints of domain experts and providing diverse expert feedback. A video presentation was prepared, covering research problem presentation, gaps in early osteoporosis detection, solution with the proposed CNN-based models, testing process, system results, and a demo of prototype interface with XAI integration. This video and an extensive feedback Google Form were shared with chosen domain and technical experts. The form included open-ended questions based on scope, usability, technical design, and clinical relevance. Additionally, a quantitative self- evaluation for the usability of the system, along with a thematic analysis of the feedback collected from the evaluators, has been included in this chapter. 9.3 Evaluation criteria In order to effectively assess the Osteo-Vision system, a list of evaluation criteria was identified. These criteria serve as standards to determine how well the system is capable of fulfilling its functional and non-functional goals. Table 9.1: Evaluation Criteria Criteria Purpose of Evaluation Choice of research undertaken To evaluate the relevance and importance of using deep learning for osteoporosis classification. Research contribution To assess the novelty of using multimodal classification and the integration of XAI techniques in knee osteoporosis diagnosis. Osteo-Vision Chapter 9: Evaluation 81 Ravindu Y. Wijesekara | W1868299 Development approach To confirm that a suitable development approach has been taken when developing the system. Quantitative analysis of results To validate the system\u2019s performance through classification metrics and ensure the robustness of the system across different models. Usability and UX To ensure how intuitive and accessible the system UI for clinicians and end-users. Documentation quality and literature To evaluate how well the research was supported with references and documented and presented in an acceptable quality. Limitations and possible improvements To reflect on possible improvements that can be made for future enhancements and to identify limitations. 9.4 Self-evaluation Throughout the research process, constant self-assessment was used to ensure correlation with the desired goals. Table 9.2: Self Evaluation of the Author According to the Evaluation Criteria Criteria Self-Evaluation Choice of research undertaken The selected research addresses one of the important medical challenges: early detection of osteoporosis through existing X-ray imaging. It examines a widely used healthcare application of deep learning, focusing on real-world practical usability and diagnostic support. Research contribution The significant contributions of the project include formulating a deep learning-based osteoporosis classification system with an explainable AI (Grad-CAM)", "important medical challenges: early detection of osteoporosis through existing X-ray imaging. It examines a widely used healthcare application of deep learning, focusing on real-world practical usability and diagnostic support. Research contribution The significant contributions of the project include formulating a deep learning-based osteoporosis classification system with an explainable AI (Grad-CAM) and addressing practical testing constraints under- considered in similar studies. This bridges the gap between technical solution and clinical interpretability. Development approach A methodical and iterative development approach was followed, utilizing pre-trained CNN architectures for the models with extensive hyperparameter tuning. Ensemble approach was taken combining VGG19 and EfficientNetB4 models. Both binary and multiclass Osteo-Vision Chapter 9: Evaluation 82 Ravindu Y. Wijesekara | W1868299 classification models were implemented, and data augmentation techniques were used to overcome dataset imbalances. To enhance the transparency of predictions, XAI techniques (Grad-CAM) were employed. Quantitative analysis of results The performance was thoroughly analyzed using the typical measures of evaluation such as accuracy, precision, recall, and F1- score. Performance differences between binary and multiclass models were thoroughly recorded and explained with contextual importance. Usability and UX Easy to use and straightforward UI was developed for the MVP to improve the usability for the end-user. Documentation was added to the web app to guide the user. Documentation quality and literature The documentation meets professional standards, and all background research is well-articulated with supporting citations. The latest versions of MS Word for document preparation and Zotero for citation management were employed to ensure consistent references throughout the thesis. Limitations and possible improvements Based on the experts' feedback, the author recognized multiple areas that needed enhancement after finishing the system. Those improvements are discussed under future work in Chapter 10. 9.5 Selection of evaluators To obtain balanced and informed feedback, a few individuals were selected as the evaluators for the evaluation of MVP. Table 9.3 below demonstrates the breakdown of evaluator categories. Table 9.3 : Breakdown of Evaluator Categories EC ID Category EC1 Technical Experts in machine learning EC2 Domain experts include rheumatologists, radiologists, general physicians, medical officers. EC3 End users of the system include rheumatologists, radiologists, general physicians, medical officers, and medical students. Osteo-Vision Chapter 9: Evaluation 83 Ravindu Y. Wijesekara | W1868299 9.6 Evaluation Results Table 9.4: Thematic Analysis of Evaluator Feedbacks Criteria EC ID Theme Feedback Choice of research undertaken EC1 Technical Relevance & Novelty Using CNN based AI in the medical domain is a growing and impactful area. EC2 Clinical Value & Problem Relevance Knee osteoporosis is often underdiagnosed early, and this study is well-aligned with clinical needs. EC3 Practical Applicability Research idea is highly relevant and can be directly integrated into clinical settings and has great potential for real-world use. Research contribution EC1 Technical Contribution The use of XAI adds real value to the medical systems, it\u2019s an innovative approach not commonly seen and very important for transparent decision making. The ensemble approach by combining VGG19 architecture and EfficientNet architecture is a valuable addition to the domain. EC2 Domain Contribution A timely and valuable", "Contribution The use of XAI adds real value to the medical systems, it\u2019s an innovative approach not commonly seen and very important for transparent decision making. The ensemble approach by combining VGG19 architecture and EfficientNet architecture is a valuable addition to the domain. EC2 Domain Contribution A timely and valuable contribution to radiology automation. Visual explanations aids interpretability for doctors. EC3 Bridging Clinical-Tech Gaps Predictions are accurate and transparent. Helps to get rid of black-box nature of predictions. Heat maps are easy to understand and validate the predictions. Development approach EC1 Model Variety The use of multiple CNN architectures has increased robustness. Osteo-Vision Chapter 9: Evaluation 84 Ravindu Y. Wijesekara | W1868299 EC2 Clinical-AI Adaptation Workflow Seamless flow from model to application. Nice use of visual explanations. EC3 System Intuitiveness Thoughtful incorporation of visualization to enhance decision making. Quantitative analysis of results EC1 Analysis of evaluation metrics The system shows a good balance across accuracy, recall, precision and F1-score. All key metrics were well tested. EC2, EC3 Results Transparency Evaluation Results are well-documented and make it easier to trust system decisions. Usability and UX EC1, EC2, EC3 UI clarity and Workflow Integration. The UI is clean and smooth, and the minimal interface helps the medical professionals to understand and operate without deep tech knowledge. Documentation quality and literature EC1 Organized and Clear Presentation. The documentation is well structured and clearly organized. Supporting citations and figures helped to explain model training and results clearly. EC2, EC3 Literature Coverage Literature review consists of solid background research in the problem domain and the existing work. Limitations and possible improvements EC1 Dataset Expansion Future researchers should try to utilize more diverse X-ray data and clinical validation using real hospital records. EC2, EC3 Functional Expansion Integrating with hospital EHR systems and using DEXA scan data will improve the system and would make this a more complete diagnostic tool 9.7 Limitations of Evaluation The evaluation process of the Osteo-Vision system provided useful feedback from both technical specialists, field specialists, and users. But there are some limitations to consider in the evaluation Osteo-Vision Chapter 9: Evaluation 85 Ravindu Y. Wijesekara | W1868299 process. Firstly, there was a limited number of people carrying out the evaluation due to time constraints as well as availability of experts, despite the variation in their specialties. This could have changed the nature of the feedback that we got. Second, the majority of the evaluations were done through online questionnaires and surveys. They were quick but limited the potential for spontaneous questioning or open-ended discussions that could have been enabled through face-to- face interviews. Again, due to the prototype nature of the system, some of its more cutting-edge functionality like real-time clinical integration was not fully testable at this stage. The data used, although enhanced and validated, may not reflect the full range of variability of true real-world clinical data. These limitations mean that while the assessment was solid for this research, for future research, it would be better to have more examiners,", "was not fully testable at this stage. The data used, although enhanced and validated, may not reflect the full range of variability of true real-world clinical data. These limitations mean that while the assessment was solid for this research, for future research, it would be better to have more examiners, direct usability testing within clinical settings, and more diverse datasets in order to make the outcomes more applicable to more situations. 9.8 Evaluation of Functional Requirements IM : Implemented NI: Not Implemented Table 9.5: Evaluation of Functional Requirements FR-ID Requirement Priority Level Status FR01 The user must be able to upload X-ray images to the system. M IM FR02 The system must be able to pre-process the X-ray images. M IM FR03 The system must detect knee osteoporosis from X-ray images with high accuracy. M IM FR04 The system must provide interpretable diagnostic reports M IM Osteo-Vision Chapter 9: Evaluation 86 Ravindu Y. Wijesekara | W1868299 FR05 The system could allow medical professionals to view confidence levels (confidence matrix) for each diagnosis. C IM FR06 The system should provide historical records of patient diagnosis results for easy access and longitudinal analysis. S IM FR07 The user should be able to download diagnosis reports. S IM FR08 The system could allow medical professionals to annotate images and save these annotations for training purposes. C NI FR09 The system could integrate with external databases for additional data validation. C IM FR10 The system should have a user-friendly graphical user interface which is easier for doctors and radiologists to adopt. S IM Completion rate of Functional Requirements (W requirements ignored)= (9/10)*100= 90% 9.9 Evaluation of Non-Functional Requirements IM : Implemented NI: Not Implemented Table 9.6: Evaluation of Non-Functional Requirements NFR- ID Requirement Priority Level Status NFR01 The system must process and analyze images within 5 seconds to ensure quick response times for radiologists. M IM NFR02 The system must ensure data encryption and privacy compliance (e.g., HIPAA or GDPR) for patient information and images M IM NFR03 The system should maintain an accuracy rate of at least 90%. S IM Osteo-Vision Chapter 9: Evaluation 87 Ravindu Y. Wijesekara | W1868299 NFR04 The system could provide a dashboard with real-time monitoring of diagnostic results and model confidence scores. C IM Completion rate of Non-Functional Requirements= (4/4)*100= 100% 9.10 Chapter Summary This chapter provided a critical evaluation of the Osteo-Vision system, explaining the methods and criteria employed for evaluation. The author's self-evaluation identified strengths in development, innovation, and documentation. A thematic analysis of the feedback received from a range of experts and users evaluated the research contributions, usability, and performance of the system. The evaluation of functional and non-functional requirements is also included in this chapter. The evaluation concluded that the system was promising and provided clear directions for future enhancement. Osteo-Vision Chapter 10: Conclusion 88 Ravindu Y. Wijesekara | W1868299 CHAPTER 10 : CONCLUSION 10.1 Chapter Overview This final chapter summarizes the major findings and the reflections of the Osteo-Vision research project. It outlines", "chapter. The evaluation concluded that the system was promising and provided clear directions for future enhancement. Osteo-Vision Chapter 10: Conclusion 88 Ravindu Y. Wijesekara | W1868299 CHAPTER 10 : CONCLUSION 10.1 Chapter Overview This final chapter summarizes the major findings and the reflections of the Osteo-Vision research project. It outlines the achievements, knowledge and skills utilized and developed, learning outcomes, challenges faced and the overall impact of the study on medical imaging and machine learning. This chapter also addresses deviations from the original plan, research limitations and the possible future work. 10.2 Achievements of Research Aims & Objectives 10.2.1 Achievement of the Aim This research aims to design a knee osteoporosis diagnosis system that takes advantage of the X- ray images and deep learning approaches based on XAI, hence making the diagnosis precise and interpretable. The primary aim of this study was to develop an X-ray image-based diagnostic system for diagnosing knee osteoporosis using deep learning and to integrate with Explainable AI to provide accurate and interpretable diagnostic results. This objective has been achieved by the author by utilizing CNN-based classification models and Grad-CAM to facilitate transparency. The XAI methods were used to graphically locate the regions of knee X-rays that significantly contributed to the model's predictions, thus improving transparency and trustworthiness. In addition, the system's performance was evaluated and validated with performance metrics such as precision, recall, and F1-score, as well as feedback from both technical and domain experts. 10.2.2 Achievement of the Objectives Table 10.1: Achievement of the Objectives Objective RO ID Learning Outcome Status Problem Identification RO1, RO2, RO3 LO1, LO2 Completed Literature Survey RO4, RO5, RO6, RO7, RO8 LO1, LO4, LO5 Completed Osteo-Vision Chapter 10: Conclusion 89 Ravindu Y. Wijesekara | W1868299 Requirement Analysis RO9, RO10, RO11 Completed Design RO12, RO13, RO14 L01, L03, L06 Completed Development RO15, RO16, RO17, RO18 LO1 Completed Testing & Evaluation RO19, RO20, RO21 L07, L05 Completed 10.3 Utilization of Knowledge from the Course Table 10.2: Utilization of Knowledge from the Course Module(s) Utilized Knowledge Software Development Group Project The SDGP module provided foundational experience in conducting research, documentation of the research process as a group which was eased the transition into this independent research process. Object- Oriented Programming, Software Development I & II This module helped to build clear understanding of the best practices in software development which were applied in the implementation of the Osteo-Vision system. Machine Learning and Data Mining The core knowledge gained from this module about data pre- processing, machine learning, CNNs helped the author to have a strong knowledge about the machine learning domain. Web Design and Development This module introduced the foundational knowledge for front end design using HTML, CSS and JavaScript which was utilized to build Next.JS frontend in the Osteo-Vision system. Server-Side Web Development Practical exposure to backend technologies such as Node.js and MongoDB helped the author to have better understanding of data workflows and integrations. Algorithms: Theory, Design, and Implementation This module laid the foundation for the algorithms, design and data", "utilized to build Next.JS frontend in the Osteo-Vision system. Server-Side Web Development Practical exposure to backend technologies such as Node.js and MongoDB helped the author to have better understanding of data workflows and integrations. Algorithms: Theory, Design, and Implementation This module laid the foundation for the algorithms, design and data structures which were essential in designing phase of the system. Osteo-Vision Chapter 10: Conclusion 90 Ravindu Y. Wijesekara | W1868299 10.4 Use of Existing Skills \u2022 Industry experience as an intern- The industry experience that the author gained during the internship at iTeaSoft as a developer was useful in the development of the project, and it helped to complete the project within the given timeframe. \u2022 Machine Learning \u2013 In addition to the knowledge gained by the module in the second year, the author gained some additional knowledge about machine learning and deep learning via tutorials before starting the research. That knowledge was valuable during this study. 10.5 Use of New Skills \u2022 Deep Learning \u2013 Despite having basic knowledge of machine learning, the author had to learn advanced machine learning concepts such as deep learning, transfer learning with pre-trained CNN models such as VGG19 and EfficientNet, ensemble approaches and fine- tuning methods. \u2022 Explainable AI (XAI) Techniques \u2013 Since the research focused especially on XAI, the author had to conduct deep research and learn XAI concepts to gain knowledge for the practical implementation of XAI tools in the Osteo-Vision system. \u2022 Containerization with Docker \u2013 As there was a dependency issue due unavailability of newer package versions used in the Google Colab for model training, in the local development environment, the author had to containerize the entire backend using docker to avoid any package mismatch issue. Therefore, the author had to learn containerization using docker for this study. 10.6 Achievement of Learning Outcomes Table 10.3: Achievement of Learning Outcomes Learnings LOs The project was divided into sub-tasks such as model development, training testing, evaluation, building the web app, and documentation. LO1 Followed a project timeline accordingly and adjusted the implementation phases based on the requirements and feedback. LO2 Osteo-Vision Chapter 10: Conclusion 91 Ravindu Y. Wijesekara | W1868299 Requirement elicitation was conducted to identify the functional and non-functional requirements of the system, utilizing feedback from domain and technical experts. LO3 Critically evaluated the more than 50 existing literature on osteoporosis diagnosis, CNN architectures, and XAI tools and concepts to position the proposed work. LO4 Independently learned multiple skills in model training and deployment, and the supervisor was regularly met with the agreed deliverables. LO5 Followed the BCS Code of Conduct. The SLEP issues and mitigations mentioned in Chapter 5 were taken into consideration. LO6 Developed a functional full-stack application with a python-based backend and Next.JS based frontend with diagnostic outputs and visual interpretations. LO7 Composed a detailed documentation including the entire research flow, reflecting the skills gained and the improvements needed. LO8 10.7 Problems and Challenges Faced Table 10.4: Problems and Challenges Faced Problem/Challenge Mitigation Publicly available annotated datasets", "with a python-based backend and Next.JS based frontend with diagnostic outputs and visual interpretations. LO7 Composed a detailed documentation including the entire research flow, reflecting the skills gained and the improvements needed. LO8 10.7 Problems and Challenges Faced Table 10.4: Problems and Challenges Faced Problem/Challenge Mitigation Publicly available annotated datasets for knee osteoporosis detection were limited. Furthermore, there was a data imbalance in the final collected dataset. To overcome this issue, the author merged several open-source datasets, and data augmentation techniques such as rotation and flipping were utilized to increase the size and the diversity. This helped to overcome the data imbalance issue. Overfitting was observed in the model training, where the model performed well on train data and performed poorly on test and validation data. This issue was mitigated using regularization techniques such as dropout layers, L2 regularization, and batch normalization. Due to the extremely busy schedules of medical professionals, acquiring expert feedback on the research and the prototype was difficult. The author used Google Forms and recorded prototype demonstrations within the Google Form with structured questionnaires, which was less time-consuming for medical professionals. Osteo-Vision Chapter 10: Conclusion 92 Ravindu Y. Wijesekara | W1868299 Training models in Google Colab was convenient, but discrepancies in package versions between Colab and the local development environment led to deployment issues. To overcome this issue, the author had to containerize the entire backend, including the model environment. This resolved the dependency issues and ensured seamless portability across different systems. 10.8 Deviations During the design and implementation stage, the following deviation from the original plan had to be made based on time constraints and the model performance. The initial project anticipated the EfficientNetB4 model to outperform the VGG19 model due to its advanced architectural design. But the accuracy of the EfficientNetB4 model consistently fell behind the VGG19 model. The author tried multiple tuning attempts to reach this goal, but all those attempts were unsuccessful. As a result, author tried out an ensemble approach which was successful with higher accuracy. 10.9 Limitations of the Research \u2022 While Grad-CAM and LIME enabled model transparency through visual highlighting of regions influencing predictions, it does not offer pixel-level precision or quantitative validation. Because of this, it is difficult to determine whether highlighted regions align with medically important anatomical structures or clinical markers. The interpretability is then largely qualitative, which may reduce its adoption and reliability in clinical diagnostics settings. \u2022 Due to the dataset unavailability, the model was not tested against external datasets. This restricted the testing to the splits of the original dataset. Because of this there is a risk of performance of the model against truly unseen data. \u2022 All training, testing and validation were carried out in the author\u2019s personal device. Because of this, the system\u2019s performance under different hardware configurations remains untested. \u2022 The training and test dataset primarily contained knee X-ray images acquired from a restricted demographic and clinical scope. Such limitations in dataset size and diversity can influence the generalizability of the", "out in the author\u2019s personal device. Because of this, the system\u2019s performance under different hardware configurations remains untested. \u2022 The training and test dataset primarily contained knee X-ray images acquired from a restricted demographic and clinical scope. Such limitations in dataset size and diversity can influence the generalizability of the model. Such a system with limited data input is less likely to perform consistently across broader groups, e.g., various ages, genders, Osteo-Vision Chapter 10: Conclusion 93 Ravindu Y. Wijesekara | W1868299 ethnicities, or rare cases. This reduces the clinical applicability and usability of the model within real-world diagnostic environments. 10.10 Future Enhancements \u2022 Future research should aim at expanding the dataset used for the model with more demographically diverse data to improve the generalizability of the model. \u2022 The author only focused on XAI techniques like Grad-CAM, LIME which provided valuable visual insights but lacked pixel-level precision and quantitative validation. Future work could focus on integrating more advanced XAI techniques that allow better anatomical alignment with medical ground truths and generate more interpretable and accurate visualizations for the medical professionals. \u2022 Another strong future enhancement would be integrating DEXA scan images which are currently considered as the golden standard for osteoporosis diagnosis. Although the author could not accomplish this due to the unavailability of publicly available DEXA datasets, any future availability of such dataset would allow multi model prediction with X-ray imaging and DEXA imaging which will be significant improvement in the knee osteoporosis diagnosis using deep learning. \u2022 A long-term enhancement would be to deploy the model within a supervised clinical setting and obtain feedback from practicing clinicians and radiologists. Real-world validation would be provided through such trials that would also determine major areas for improvement based on real diagnostic use cases. \u2022 In this research study, the CNN models with highest accuracy from both VGG19 and EfficientNetB4 architecture were selected for the ensemble approach. It can be further tested by combining different variants with different hyper-parameter settings of each architecture and revealing more optimal ensemble approaches that can capture better diverse features and enhance predictive accuracy. Osteo-Vision Chapter 10: Conclusion 94 Ravindu Y. Wijesekara | W1868299 10.11 Achievement of the Contribution to the Body of Knowledge 10.11.1 Research Domain Contributions \u2022 Novel use of EfficienNetB4 architecture in the knee osteoporosis domain which combined with VGG19 model to outperform the existing models in the knee osteoporosis diagnosis domain. \u2022 Use of ensemble model combining VGG19 and EfficientNetB4 architectures for the knee osteoporosis detection is a new approach which has not been done before. \u2022 Addressing clinical interpretability problems and black-box nature of the AI models with the use of XAI integration to ensure model transparency in clinical applications is a new approach which has not been applied to knee osteoporosis detection domain before. 10.11.2 Problem Domain Contributions \u2022 This study introduces explainable AI (XAI) into the pipeline through the inclusion of Grad- CAM and LIME, making it possible for medical professionals to visually interpret the predictions of the model.", "a new approach which has not been applied to knee osteoporosis detection domain before. 10.11.2 Problem Domain Contributions \u2022 This study introduces explainable AI (XAI) into the pipeline through the inclusion of Grad- CAM and LIME, making it possible for medical professionals to visually interpret the predictions of the model. Transparency is paramount in clinical environments, where medical professionals' faith in black-box AI is typically low. Introducing XAI closes the gap between highly performing deep learning systems and their real-world applicability, a limitation prevalent in conventional AI approaches. 10.12 Concluding Remarks This research concludes a successful and informative journey towards formulating the role of artificial intelligence in knee osteoporosis detection through X-ray imaging. The author introduced a novel ensemble diagnostic model integrating the strengths of deep learning models, VGG19 and EfficientNetB4 and coupled with explainable AI (XAI) techniques such as Grad-CAM, and LIME to offer interpretability in addition to accuracy. The study bridged an important gap in existing medical AI systems by offering a solution that is focused on the knee joint, which offers accuracy as well as interpretability, features that are normally left behind in normal diagnostic processes. Further, expert evaluations confirmed the system's relevance and usability within actual healthcare environments. Finally, this research is a forward-thinking contribution to the domain of AI and healthcare, serving as the foundation for future innovations in interpretable and accessible osteoporosis detection systems. Osteo-Vision References I Ravindu Y. Wijesekara | W1868299 REFERENCES Abubakar, U.B. et al. (2022). Transfer Learning Model Training Time Comparison for Osteoporosis Classification on Knee Radiograph of RGB and Grayscale Images. WSEAS TRANSACTIONS ON ELECTRONICS, 13, 45\u201351. Available from https://doi.org/10.37394/232017.2022.13.7. Alawi, M. et al. (2021). Dual-Energy X-Ray Absorptiometry (DEXA) Scan Versus Computed Tomography for Bone Density Assessment. Cureus. Available from https://doi.org/10.7759/cureus.13261 [Accessed 7 October 2024]. Allam, A.K. et al. (2023). Computer Vision in Osteoporotic Vertebral Fracture Risk Prediction: A Systematic Review. Neurospine, 20 (4), 1112\u20131123. Available from https://doi.org/10.14245/ns.2347022.511. Arens, R. (2010). Learning SVM Ranking Functions from User Feedback Using Document Metadata and Active Learning in the Biomedical Domain. In: F\u00fcrnkranz, J. and H\u00fcllermeier, E. (eds.). Preference Learning. Berlin, Heidelberg: Springer Berlin Heidelberg, 363\u2013383. Available from https://doi.org/10.1007/978-3-642-14125-6_17 [Accessed 2 November 2024]. Chaddad, A. et al. (2023). Survey of Explainable AI Techniques in Healthcare. Sensors, 23 (2), 634. Available from https://doi.org/10.3390/s23020634. Chakrobartty, S. and El-Gayar, O. (no date). Explainable Artificial Intelligence in the Medical Domain: A Systematic Review. Chen, Z. et al. (2023). GLCM-Based FBLS: A Novel Broad Learning System for Knee Osteopenia and Osteoprosis Screening in Athletes. Applied Sciences, 13 (20), 11150. Available from https://doi.org/10.3390/app132011150. De Villiers, T.J. and Goldstein, S.R. (2022). Bone health 2022: an update. Climacteric, 25 (1), 1\u2013 3. Available from https://doi.org/10.1080/13697137.2021.1965408. Osteo-Vision References II Ravindu Y. Wijesekara | W1868299 Derkatch, S. et al. (2019). Identification of Vertebral Fractures by Convolutional Neural Networks to Predict Nonvertebral and Hip Fractures: A Registry-based Cohort Study of Dual X-ray Absorptiometry. Radiology, 293 (2), 405\u2013411. Available from https://doi.org/10.1148/radiol.2019190201. Dodamani, P.S. and Danti, A. (2023). Transfer Learning-Based Osteoporosis Classification Using Simple Radiographs. International", "| W1868299 Derkatch, S. et al. (2019). Identification of Vertebral Fractures by Convolutional Neural Networks to Predict Nonvertebral and Hip Fractures: A Registry-based Cohort Study of Dual X-ray Absorptiometry. Radiology, 293 (2), 405\u2013411. Available from https://doi.org/10.1148/radiol.2019190201. Dodamani, P.S. and Danti, A. (2023). Transfer Learning-Based Osteoporosis Classification Using Simple Radiographs. International Journal of Online and Biomedical Engineering (iJOE), 19 (08), 66\u201387. Available from https://doi.org/10.3991/ijoe.v19i08.39235. E. Ihongbe, I. et al. (2024). Evaluating Explainable Artificial Intelligence (XAI) techniques in chest radiology imaging through a human-centered Lens. PLOS ONE, 19 (10), e0308758. Available from https://doi.org/10.1371/journal.pone.0308758. Eastell, R. and Hannon, R.A. (2008). Biomarkers of bone health and osteoporosis risk: Symposium on \u2018Diet and bone health\u2019. Proceedings of the Nutrition Society, 67 (2), 157\u2013162. Available from https://doi.org/10.1017/S002966510800699X. Feng, S.-W. et al. (2023). Deep Learning-Based Hip X-ray Image Analysis for Predicting Osteoporosis. Applied Sciences, 14 (1), 133. Available from https://doi.org/10.3390/app14010133. Ghnemat, R., Alodibat, S. and Abu Al-Haija, Q. (2023). Explainable Artificial Intelligence (XAI) for Deep Learning Based Medical Imaging Classification. Journal of Imaging, 9 (9), 177. Available from https://doi.org/10.3390/jimaging9090177. Gobara, M. et al. (2024). Knee Osteoporosis Diagnosis Based on Deep Learning. International Journal of Computational Intelligence Systems, 17 (1), 241. Available from https://doi.org/10.1007/s44196-024-00615-4. He, Q.-F. et al. (2018). Radiographic predictors for bone mineral loss: Cortical thickness and index of the distal femur. Bone & Joint Research, 7 (7), 468\u2013475. Available from https://doi.org/10.1302/2046-3758.77.BJR-2017-0332.R1. Osteo-Vision References III Ravindu Y. Wijesekara | W1868299 Hovakimyan, A. et al. (2023). Artificial Intelligence Methods in Osteoporosis Prediction Problem. WSEAS TRANSACTIONS ON BIOLOGY AND BIOMEDICINE, 20, 171\u2013177. Available from https://doi.org/10.37394/23208.2023.20.17. Ibrahim, R. and Shafiq, M.O. (2023). Explainable Convolutional Neural Networks: A Taxonomy, Review, and Future Directions. ACM Computing Surveys, 55 (10), 1\u201337. Available from https://doi.org/10.1145/3563691. Jaman Shawon, A. et al. (2024). Osteoporosis Prediction Using VGG16 and ResNet50. International Journal of Innovative Science and Research Technology (IJISRT), 2489\u2013 2492. Available from https://doi.org/10.38124/ijisrt/IJISRT24APR2565. Kuo, T.-R. and Chen, C.-H. (2017). Bone biomarker for the clinical assessment of osteoporosis: recent developments and future perspectives. Biomarker Research, 5 (1), 18. Available from https://doi.org/10.1186/s40364-017-0097-4. Liu, J. et al. (2020). Diagnostic and Gradation Model of Osteoporosis Based on Improved Deep U-Net Network. Journal of Medical Systems, 44 (1), 15. Available from https://doi.org/10.1007/s10916-019-1502-3. Liu, R.W. et al. (2024). Application of Artificial Intelligence Methods on Osteoporosis Classification with Radiographs\u2014A Systematic Review. Bioengineering, 11 (5), 484. Available from https://doi.org/10.3390/bioengineering11050484. London, A.J. (2019). Artificial Intelligence and Black\u2010Box Medical Decisions: Accuracy versus Explainability. Hastings Center Report, 49 (1), 15\u201321. Available from https://doi.org/10.1002/hast.973. Massatith, J., Boonnam, N. and Hama, R. (2023). Osteoporosis Prognosis Through Machine Learning Analysis of X-Ray Films. 2023 27th International Computer Science and Engineering Conference (ICSEC). 14 September 2023. Samui Island, Thailand: IEEE, 104\u2013109. Available from https://doi.org/10.1109/ICSEC59635.2023.10329706 [Accessed 2 November 2024]. Osteo-Vision References IV Ravindu Y. Wijesekara | W1868299 Mir\u00f3-Nicolau, M., Moy\u00e0-Alcover, G. and Jaume-i-Cap\u00f3, A. (2022). Evaluating Explainable Artificial Intelligence for X-ray Image Analysis. Applied Sciences, 12 (9), 4459. Available from https://doi.org/10.3390/app12094459. Nakamoto, T., Taguchi, A. and Kakimoto, N. (2022). Osteoporosis screening support system from panoramic radiographs using deep learning by convolutional neural", "Ravindu Y. Wijesekara | W1868299 Mir\u00f3-Nicolau, M., Moy\u00e0-Alcover, G. and Jaume-i-Cap\u00f3, A. (2022). Evaluating Explainable Artificial Intelligence for X-ray Image Analysis. Applied Sciences, 12 (9), 4459. Available from https://doi.org/10.3390/app12094459. Nakamoto, T., Taguchi, A. and Kakimoto, N. (2022). Osteoporosis screening support system from panoramic radiographs using deep learning by convolutional neural network. Dentomaxillofacial Radiology, 51 (6), 20220135. Available from https://doi.org/10.1259/dmfr.20220135. Rangayyan, S.M. et al. (2024). Detection of Osteoporosis Using Knee X-Rays. 2024 IEEE International Conference on Interdisciplinary Approaches in Technology and Management for Social Innovation (IATMSI). 14 March 2024. Gwalior, India: IEEE, 1\u20136. Available from https://doi.org/10.1109/IATMSI60426.2024.10503366 [Accessed 20 October 2024]. S Band, S. et al. (2023). Application of explainable artificial intelligence in medical health: A systematic review of interpretability methods. Informatics in Medicine Unlocked, 40, 101286. Available from https://doi.org/10.1016/j.imu.2023.101286. Salehi, A.W. et al. (2023). A Study of CNN and Transfer Learning in Medical Imaging: Advantages, Challenges, Future Scope. Sustainability, 15 (7), 5930. Available from https://doi.org/10.3390/su15075930. Saunders, M., Thornhill, A. and Lewis, P. (2019). Research methods for business students, Eight Edition. Harlow, United Kingdom: Pearson. Sollmann, N. et al. (2020). Automated Opportunistic Osteoporosis Screening in Routine Computed Tomography of the Spine: Comparison With Dedicated Quantitative CT. Journal of Bone and Mineral Research, 37 (7), 1287\u20131296. Available from https://doi.org/10.1002/jbmr.4575. Sozen, T., Ozisik, L. and Calik Basaran, N. (2017). An overview and management of osteoporosis. European Journal of Rheumatology, 4 (1), 46\u201356. Available from https://doi.org/10.5152/eurjrheum.2016.048. Osteo-Vision References V Ravindu Y. Wijesekara | W1868299 Talukder, Md.A. et al. (2024). Empowering COVID-19 detection: Optimizing performance through fine-tuned EfficientNet deep learning architecture. Computers in Biology and Medicine, 168, 107789. Available from https://doi.org/10.1016/j.compbiomed.2023.107789. Tan, M. and Le, Q.V. (2019). EfficientNet: Rethinking Model Scaling for Convolutional Neural Networks. Available from https://doi.org/10.48550/ARXIV.1905.11946 [Accessed 3 November 2024]. Tomita, N., Cheung, Y.Y. and Hassanpour, S. (2018). Deep neural networks for automatic detection of osteoporotic vertebral fractures on CT scans. Computers in Biology and Medicine, 98, 8\u201315. Available from https://doi.org/10.1016/j.compbiomed.2018.05.011. Varshney, N. et al. (2023). Predictive Modeling for Osteoporosis Risk Assessment from DXA Scans. 2023 10th IEEE Uttar Pradesh Section International Conference on Electrical, Electronics and Computer Engineering (UPCON). 1 December 2023. Gautam Buddha Nagar, India: IEEE, 1819\u20131825. Available from https://doi.org/10.1109/UPCON59197.2023.10434856 [Accessed 2 September 2024]. Von Eschenbach, W.J. (2021). Transparency and the Black Box Problem: Why We Do Not Trust AI. Philosophy & Technology, 34 (4), 1607\u20131622. Available from https://doi.org/10.1007/s13347-021-00477-0. Wani, I.M. and Arora, S. (2023). Osteoporosis diagnosis in knee X-rays by transfer learning based on convolution neural network. Multimedia Tools and Applications, 82 (9), 14193\u201314217. Available from https://doi.org/10.1007/s11042-022-13911-y. Wu, X. and Park, S. (2023). A Prediction Model for Osteoporosis Risk Using a Machine-Learning Approach and Its Validation in a Large Cohort. Journal of Korean Medical Science, 38 (21), e162. Available from https://doi.org/10.3346/jkms.2023.38.e162. Wu, Y. et al. (2023). Predictive value of machine learning on fracture risk in osteoporosis: a systematic review and meta-analysis. BMJ Open, 13 (12), e071430. Available from https://doi.org/10.1136/bmjopen-2022-071430. Osteo-Vision References VI Ravindu Y. Wijesekara | W1868299 Yasaka, K. et al. (2020). Prediction of bone mineral density from computed tomography: application", "Wu, Y. et al. (2023). Predictive value of machine learning on fracture risk in osteoporosis: a systematic review and meta-analysis. BMJ Open, 13 (12), e071430. Available from https://doi.org/10.1136/bmjopen-2022-071430. Osteo-Vision References VI Ravindu Y. Wijesekara | W1868299 Yasaka, K. et al. (2020). Prediction of bone mineral density from computed tomography: application of deep learning with a convolutional neural network. European Radiology, 30 (6), 3549\u20133557. Available from https://doi.org/10.1007/s00330-020-06677-0. Yen, T.-Y. et al. (2024). Diagnostic Accuracy of Deep Learning for the Prediction of Osteoporosis Using Plain X-rays: A Systematic Review and Meta-Analysis. Diagnostics, 14 (2), 207. Available from https://doi.org/10.3390/diagnostics14020207. Zhang, B. et al. (2020). Deep learning of lumbar spine X-ray for osteopenia and osteoporosis screening: A multicenter retrospective cohort study. Bone, 140, 115561. Available from https://doi.org/10.1016/j.bone.2020.115561. Osteo-Vision Appendices VII Ravindu Y. Wijesekara | W1868299 APPENDIX A: LITERATURE REVIEW A.1 Concept Map Figure 0.1: Concept Map Osteo-Vision Appendices VIII Ravindu Y. Wijesekara | W1868299 APPENDIX B \u2013 METHODOLOGY B.1 Gantt Chart Figure 0.2: Gnatt Chart Osteo-Vision Appendices IX Ravindu Y. Wijesekara | W1868299 APPENDIX C: SOFTWARE REQUIREMENTS SPECIFICATIONS C.1 QUESTIONNAIRES TO DOMAIN EXPERTS Table 0.1: Questionnaire to Domain Experts Question Relevance Have you worked with cases regarding knee osteoporosis diagnosis? To identify whether the target audience has worked with the domain disease. What is the most frequent challenge you encounter in diagnosing knee osteoporosis? To identify the requirement of an AI-based knee osteoporosis system. What imaging techniques do you primarily use for diagnosing osteoporosis in the knee (e.g., X-rays, DEXA scans, etc.)? To identify the imaging techniques that are popular and reliable among medical professionals. Which imaging modality do you find most reliable for detecting osteoporosis? To identify the importance of x-ray imaging as a reliable option for diagnosing knee osteoporosis. How much time do you typically spend interpreting X-ray images for osteoporosis diagnosis? To identify the time usually takes medical professionals to diagnose knee osteoporosis from x-ray images. In your opinion, what is the most important factor in diagnosing knee osteoporosis? To identify the requirement of an AI-based knee osteoporosis system. In your experience, what are the main limitations of current diagnostic tools (DXA, X-ray, etc.)? To identify limitations of current diagnostic tools and the need for an AI-based knee osteoporosis system. Which factors would be most important for you in adopting an AI-based diagnostic tool? To identify the important factors like accuracy, speed, and interpretability for medical image recognition. What do you believe are the primary benefits of using AI in radiology and diagnostic imaging? To identify the advantage of an AI-based knee osteoporosis system in the medical domain. Osteo-Vision Appendices X Ravindu Y. Wijesekara | W1868299 How would you rate your trust in AI-generated diagnoses without a human radiologist\u2019s review? To identify the importance of interpretable AI models in the medical domain. Would you prefer an AI system that provides visual explanations (e.g., highlighting areas of concern in the X-ray image)? To identify the requirement of explainability in AI models in the medical domain. What functionalities would you like to see", "identify the importance of interpretable AI models in the medical domain. Would you prefer an AI system that provides visual explanations (e.g., highlighting areas of concern in the X-ray image)? To identify the requirement of explainability in AI models in the medical domain. What functionalities would you like to see in an AI-based osteoporosis diagnostic tool? To identify the additional functionalities needed for the Osteo-vision system. Which features would increase your trust in an AI-based diagnostic tool? To identify the features that would improve the trust of medical professionals in AI-based diagnostic tools. How would you prefer to receive the results from an AI-based diagnostic tool? To identify the potential delivery methods of the results of the Osteo-vision system. How important do you think it is for AI systems to provide explanations for their diagnoses? To identify the requirement of explainability in AI models in the medical domain. C.2 QUESTIONNAIRES TO DOMAIN EXPERTS Table 0.2: Questionnaire to Technical Experts Question Relevance Have you worked with image recognition models for medical image analysis? To identify the requirement for a reliable system What type of medical images have you worked with for image recognition tasks? To identify if the target experts are knowledgeable in x-ray imaging modalities. In your opinion, what is the most important factor when choosing a model for medical image analysis? To identify the critical factors when choosing a model for medical imaging. What pre-processing steps do you consider essential when working with X-ray images? To identify the pre-processing techniques for X-ray images. Osteo-Vision Appendices XI Ravindu Y. Wijesekara | W1868299 Which pre-processing libraries or tools do you commonly used for medical images? To identify the pre-processing libraries and tools that can be used to implement the Osteo- vision system. How important do you think data augmentation is for X-ray image analysis? To identify the importance of data augmentation in x-ray image analysis. What do you believe are the primary advantages of using transfer learning for medical image recognition? To identify the requirement of transfer learning in medical image models. Which pre-trained image recognition models do you prefer for medical image analysis? To identify the best pre-trained image recognition model for medical imaging. Which approach do you use most often for hyperparameter tuning? To identify the techniques used for hyperparameter tuning. How do you typically validate the performance of image recognition models in the medical domain? To identify the validation methods for medical image models. Which evaluation metrics do you consider most important for medical image classification models? To identify the evaluation metrics that can be used in the implementation of the Osteo-vision system. What challenges have you encountered when working on implementing deep-learning models for medical images? To identify the challenges encountered when implementing deep learning models for medical image recognition. How familiar are you with Explainable AI (XAI) techniques? To identify the familiarity of the targeted expert in Explainable AI techniques. Which XAI techniques have you used to interpret machine learning model predictions? To identify the XAI", "identify the challenges encountered when implementing deep learning models for medical image recognition. How familiar are you with Explainable AI (XAI) techniques? To identify the familiarity of the targeted expert in Explainable AI techniques. Which XAI techniques have you used to interpret machine learning model predictions? To identify the XAI techniques which are used by the experts. What challenges have you faced when trying to implement XAI techniques in your projects? To identify the potential challenges that may have to face when using XAI techniques in implementing the Osteo-vision system. Osteo-Vision Appendices XII Ravindu Y. Wijesekara | W1868299 Which aspects of XAI do you think need further development to improve its integration into real-world applications? To identify the need for further development in XAI techniques. C.3 USE CASE DESCRIPTIONS Table 0.3: Use Case Description UC: 02 Use Case Upload Patient X-ray Id UC: 02 Description Uploads an X-ray image of the patient's knee for processing. Primary Actor User Supporting Actors None Stakeholders Radiologist, Rheumatologist, Medical Student Pre-condition None Post Condition Success End: Image uploaded successfully. Trigger User action Main Flow Actor System 1. User selects images to upload. 2. Accepts and stores the image in the database. Alternate Flows Actor System 1. Cancels upload. 1. Discards the selected image. Included Use Cases UC:01, UC:03, UC:04 Osteo-Vision Appendices XIII Ravindu Y. Wijesekara | W1868299 Table 0.4: Use Case Description UC:03 Use Case X-ray Image Preprocessing Id UC:03 Description Preprocesses the uploaded X-ray image for accurate diagnosis and prediction. Primary Actor System Supporting Actors None Stakeholders Radiologist, Rheumatologist, Medical Student Pre-condition X-ray image uploaded successfully (UC:02). Post Condition Success End: Image is preprocessed and ready for diagnosis. Trigger System triggers preprocessing after upload completed. Main Flow Actor System 1. Applies filtering and normalization. 2. Enhances image features. 3. Outputs the preprocessed image. Alternate Flows None Included Use Cases UC:01, UC:02 Table 0.5: Use Case Description UC:04 Use Case Generate Diagnosis Results Id UC:04 Description Generates diagnosis results based on the preprocessed X-ray image. Primary Actor System Osteo-Vision Appendices XIV Ravindu Y. Wijesekara | W1868299 Supporting Actors None Stakeholders Radiologist, Rheumatologist, Medical Student Pre-condition Successful image preprocessing (UC:03). Post Condition Success End: Diagnosis results are generated. Trigger System-triggered after preprocessing completion Main Flow Actor System 1. Analyze the preprocessed image. 2. Outputs diagnosis results. Alternate Flows None Included Use Cases UC:01, UC:02, UC:03 Table 0.6: Use Case Description UC:06 Use Case Interpret Prediction Results Id UC:06 Description Enables the user to interpret and understand the prognosis prediction results. Primary Actor User Supporting Actors None Stakeholders Radiologist, Rheumatologist, Medical Student Pre-condition Prediction results generated (UC:01). Post Condition Success End: User interprets results successfully. Trigger User action Osteo-Vision Appendices XV Ravindu Y. Wijesekara | W1868299 Main Flow Actor System 1. Selects to interpret results. 2. Provides explanations and visualizations of results. Alternate Flows None Included Use Cases UC:01, Table 0.7: Use Case Description UC: 07 Use Case Generate Detailed Report Id UC:07 Description Generates a detailed report of the diagnosis and prediction results for the", "Main Flow Actor System 1. Selects to interpret results. 2. Provides explanations and visualizations of results. Alternate Flows None Included Use Cases UC:01, Table 0.7: Use Case Description UC: 07 Use Case Generate Detailed Report Id UC:07 Description Generates a detailed report of the diagnosis and prediction results for the user. Primary Actor User Supporting Actors None Stakeholders Radiologist, Rheumatologist, Medical Student Pre-condition Diagnosis and prediction results are available (UC:04, UC:01). Post Condition Success End: Detailed report generated. Trigger User action Main Flow Actor System 1. Requests report generation. 2. Compiles and generates detailed report. Osteo-Vision Appendices XVI Ravindu Y. Wijesekara | W1868299 Alternate Flows None Included Use Cases UC:04, UC:01 Table 0.8: Use Case Description UC:08 Use Case Check Diagnosis History Id UC:08 Description Allows the user to view past diagnosis results. Primary Actor User Supporting Actors None Stakeholders Radiologist, Rheumatologist, Medical Student Pre-condition Previous diagnosis records exist. Post Condition Success End: Diagnosis history viewed successfully. Trigger User action Main Flow Actor System 1. Selects to view diagnosis history. 2. Retrieve records from the database. 3. Displays past diagnosis records. Alternate Flows None Included Use Cases None Osteo-Vision Appendices XVII Ravindu Y. Wijesekara | W1868299 Table 0.9: Use Case Description UC:09 Use Case Download Generated Report Id UC:09 Description Enables the user to download the generated report for record-keeping or further review. Primary Actor User Supporting Actors None Stakeholders Radiologist, Rheumatologist, Medical Student Pre-condition Report generated successfully (UC:07). Post Condition Success End: Report downloaded by the user. Trigger User action Main Flow Actor System 1. Selects to download report. 2. Downloads the report file. Alternate Flows None Included Use Cases UC:07 Osteo-Vision Appendices XVIII Ravindu Y. Wijesekara | W1868299 APPENDIX D: DESIGN D.1 LOW FIDELITY WIREFRAMES Figure 0.2: Home Page Wireframe Figure 0.3: Report Page Wireframe Osteo-Vision Appendices XIX Ravindu Y. Wijesekara | W1868299 Figure 0.4: History Page Wireframe Osteo-Vision Appendices XX Ravindu Y. Wijesekara | W1868299 APPENDIX E: IMPLEMENTATION E.1 Implementation Code Snippets Figure 0.5: LIME Function Osteo-Vision Appendices XXI Ravindu Y. Wijesekara | W1868299 Figure 0.6: Grad-CAM Function Osteo-Vision Appendices XXII Ravindu Y. Wijesekara | W1868299 Figure 0.7: Data augmentation for Osteopenia class Figure 0.8: Data generators for VGG19 Binary Model Osteo-Vision Appendices XXIII Ravindu Y. Wijesekara | W1868299 Figure 0.9: Upload Endpoint with the Ensemble Function Osteo-Vision Appendices XXIV Ravindu Y. Wijesekara | W1868299 Figure 0.10: Model Loader E.2 User Interfaces of the System Figure 0.11: Home Screen Without Prediction Results Osteo-Vision Appendices XXV Ravindu Y. Wijesekara | W1868299 Figure 0.12: Report Page Figure 0.13: Report Page with Results Osteo-Vision Appendices XXVI Ravindu Y. Wijesekara | W1868299 Figure 0.14: History Page Figure 0.15: Documentation Page Osteo-Vision Appendices XXVII Ravindu Y. Wijesekara | W1868299 Figure: 0.16: Generated Report Prediction Page Osteo-Vision Appendices XXVIII Ravindu Y. Wijesekara | W1868299 Figure 0.17: Generated Report XAI Visualizations Page Osteo-Vision Appendices XXIX Ravindu Y. Wijesekara | W1868299 Figure 0.19: Confusion Matrix for VGG19 Binary Model Figure 0.18: Confusion Matrix for EfficientNetB4 Binary Model Figure 0.20: Confusion Matrix for VGG19 Multiclass Model", "Report Prediction Page Osteo-Vision Appendices XXVIII Ravindu Y. Wijesekara | W1868299 Figure 0.17: Generated Report XAI Visualizations Page Osteo-Vision Appendices XXIX Ravindu Y. Wijesekara | W1868299 Figure 0.19: Confusion Matrix for VGG19 Binary Model Figure 0.18: Confusion Matrix for EfficientNetB4 Binary Model Figure 0.20: Confusion Matrix for VGG19 Multiclass Model APPENDIX F \u2013 TESTING F.1 Test Results Osteo-Vision Appendices XXX Ravindu Y. Wijesekara | W1868299 Figure 0.21: Accuracy and Loss Graphs for VGG19 Binary Model Figure 0.22: Accuracy and Loss Graphs for EfficientNetB4 Binary Model Figure 0.23: Accuracy and Loss Graphs for VGG19 Multiclass Model Osteo-Vision Appendices XXXI Ravindu Y. Wijesekara | W1868299 Figure 0.25: AUC-ROC Curve for Binary VGG19 Model Figure 0.24: AUC-ROC Curve for EfficientNetB4 Model Osteo-Vision Appendices XXXII Ravindu Y. Wijesekara | W1868299 Figure 0.26: Lighthouse Results - Home Screen (self-composed) Figure 0.27: Lighthouse Results - Report Screen (self-composed) Figure 0.28: Lighthouse Results - History Screen (self-composed) E.2 Non-Functional Testing Table 0.10: Non-Functional Testing Test Case NFR ID Result 1 NFR01 The system process and analyze images within 5 seconds 2 NFR02 The system ensures data encryption and privacy compliance 3 NFR03 The system ensures accuracy of 98.25% 4 NFR04 The system provides a dashboard with real time monitoring of diagnostic results and model confidence scores. Accuracy Testing The author has done extensive evaluation on the accuracy of each model used in the Osteo-Vision system because accuracy is the most crucial factor when it comes to predictions related to medical domain. Final evaluations proved that the ensemble binary model which combined the VGG19 architecture and EfficientNetB4 architecture, got the highest accuracy than that of standalone models. This ensemble model outperformed the models that used the existing work related to knee osteoporosis binary classification. Performance Testing Performance of the Osteo-Vision web app has been tested out using the Google Lighthouse tool. Following images show the results for each page in the web app. Osteo-Vision Appendices XXXIII Ravindu Y. Wijesekara | W1868299 Maintainability Testing The system's source code was checked for maintainability using CodeFactor.io, an automated code quality tool that scans the code. The report indicated clean, well-structured code with few problems, an indication of the practice of maintainable coding. A snapshot of the report is provided below. Figure 0.29: Code Factor Results (self-composed)"]